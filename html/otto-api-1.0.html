<!DOCTYPE html><html lang="en"><head profile="http://dublincore.org/documents/2008/08/04/dc-html/"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>OTTO API's 1.0</title><style type="text/css" title="Xml2Rfc (sans serif)">
a {
  text-decoration: none;
}
a.smpl {
  color: black;
}
a:hover {
  text-decoration: underline;
}
a:active {
  text-decoration: underline;
}
address {
  margin-top: 1em;
  margin-left: 2em;
  font-style: normal;
}
body {
  color: black;
  font-family: cambria, georgia, serif;
  font-size: 12pt;
  margin: 2em auto;
  max-width: 1000px;
}
samp, tt, code, pre {
  font-family: consolas, monaco, monospace;
}
cite {
  font-style: normal;
}
dl {
  margin-left: 2em;
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl.nohang > dt {
  float: none;
}
dl > dd {
  margin-bottom: .5em;
}
dl.compact > dd {
  margin-bottom: .0em;
}
dl > dd > dl {
  margin-top: 0.5em;
}
ul.empty {
  list-style-type: none;
}
ul.empty li {
  margin-top: .5em;
}
dl p {
  margin-left: 0em;
}
h1 {
  color: green;
  font-size: 150%;
  line-height: 18pt;
  font-weight: bold;
  text-align: center;
  margin-top: 36pt;
  margin-bottom: 0pt;
}
h1.kantara {
  margin-top: 12pt;
  margin-bottom: 12pt;
}
h2 {
  font-size: 130%;
  line-height: 21pt;
  page-break-after: avoid;
}
h2.np {
  page-break-before: always;
}
h3 {
  font-size: 120%;
  line-height: 15pt;
  page-break-after: avoid;
}
h4 {
  font-size: 110%;
  page-break-after: avoid;
}
h5, h6 {
  page-break-after: avoid;
}
h1 a, h2 a, h3 a, h4 a, h5 a, h6 a {
  color: black;
}
img {
  margin-left: 3em;
}
img.kantara {
  margin-left: 0;
  max-width:250px;
  max-height:100px;
}
li {
  margin-left: 2em;
}
ol {
  margin-left: 2em;
}
ol.la {
  list-style-type: lower-alpha;
}
ol.ua {
  list-style-type: upper-alpha;
}
ol p {
  margin-left: 0em;
}
p {
  margin-left: 2em;
}
pre {
  font-size: 11pt;
  margin-left: 3em;
  background-color: lightyellow;
  padding: .25em;
  page-break-inside: avoid;
}
pre.text2 {
  border-style: dotted;
  border-width: 1px;
  background-color: #f0f0f0;
}
pre.inline {
  background-color: white;
  padding: 0em;
  page-break-inside: auto;
}
pre.text {
  border-style: dotted;
  border-width: 1px;
  background-color: #f8f8f8;
}
pre.drawing {
  border-style: solid;
  border-width: 1px;
  background-color: #f8f8f8;
  padding: 2em;
}
table {
  margin-left: 2em;
}
table.tt {
  vertical-align: top;
  border-color: gray;
}
table.tt th {
  border-color: gray;
}
table.tt td {
  border-color: gray;
}
table.all {
  border-style: solid;
  border-width: 2px;
}
table.full {
  border-style: solid;
  border-width: 2px;
}
table.tt td {
  vertical-align: top;
}
table.all td {
  border-style: solid;
  border-width: 1px;
}
table.full td {
  border-style: none solid;
  border-width: 1px;
}
table.tt th {
  vertical-align: top;
}
table.all th {
  border-style: solid;
  border-width: 1px;
}
table.full th {
  border-style: solid;
  border-width: 1px 1px 2px 1px;
}
table.headers th {
  border-style: none none solid none;
  border-width: 2px;
}
table.tleft {
  margin-right: auto;
}
table.tright {
  margin-left: auto;
}
table.tcenter {
  margin-left: auto;
  margin-right: auto;
}
caption {
  caption-side: bottom;
  font-weight: bold;
  font-size: 10pt;
  margin-top: .5em;
}

table.header {
  border-spacing: 1px;
  width: 95%;
  font-size: 11pt;
  color: white;
}
td.top {
  vertical-align: top;
}
td.topnowrap {
  vertical-align: top;
  white-space: nowrap;
}
table.header td {
  background-color: gray;
  width: 50%;
}
table.header a {
  color: white;
}
table.kantara {
  color: black;
}
table.header td.kantara {
  background-color:white;
}
td.reference {
  vertical-align: top;
  white-space: nowrap;
  padding-right: 1em;
}
thead {
  display:table-header-group;
}
ul.toc, ul.toc ul {
  list-style: none;
  margin-left: 1.5em;
  padding-left: 0em;
}
ul.toc li {
  line-height: 150%;
  font-weight: bold;
  margin-left: 0em;
}
ul.toc li li {
  line-height: normal;
  font-weight: normal;
  font-size: 11pt;
  margin-left: 0em;
}
li.excluded {
  font-size: 0pt;
}
ul p {
  margin-left: 0em;
}
.filename, h1, h2, h3, h4 {
  font-family: candara, calibri, segoe, optima, arial, sans-serif;
}

.comment {
  background-color: yellow;
}
.center {
  text-align: center;
}
.error {
  color: red;
  font-style: italic;
  font-weight: bold;
}
.figure {
  font-weight: bold;
  text-align: center;
  font-size: 10pt;
}
.filename {
  color: #333333;
  font-size: 112%;
  font-weight: bold;
  line-height: 21pt;
  text-align: center;
  margin-top: 0pt;
}
.fn {
  font-weight: bold;
}
.left {
  text-align: left;
}
.right {
  text-align: right;
}
.warning {
  font-size: 130%;
  background-color: yellow;
}

@media screen {
  pre.text, pre.text2 {
    width: 69em;
  }
}

@media print {
  .noprint {
    display: none;
  }

  a {
    color: black;
    text-decoration: none;
  }

  table.header {
    width: 90%;
  }

  td.header {
    width: 50%;
    color: black;
    background-color: white;
    vertical-align: top;
    font-size: 110%;
  }

  ul.toc a:last-child::after {
    content: leader('.') target-counter(attr(href), page);
  }

  ul.ind li li a {
    content: target-counter(attr(href), page);
  }

  pre {
    font-size: 10pt;
  }

  .print2col {
    column-count: 2;
    -moz-column-count: 2;
    column-fill: auto;
  }
}

@page {
  @top-left {
       content: "Internet-Draft";
  }
  @top-right {
       content: "April 2017";
  }
  @top-center {
       content: "OTTO Core";
  }
  @bottom-left {
       content: "Schwartz, et al.";
  }
  @bottom-center {
       content: "Expires October 4, 2017";
  }
  @bottom-right {
       content: "[Page " counter(page) "]";
  }
}

@page:first {
    @top-left {
      content: normal;
    }
    @top-right {
      content: normal;
    }
    @top-center {
      content: normal;
    }
}
</style><link rel="Author" href="#rfc.authors"><link rel="Copyright" href="#rfc.copyright"><link rel="Chapter" title="1 Introduction" href="#rfc.section.1"><link rel="Chapter" title="2 Configuration Endpoint" href="#rfc.section.2"><link rel="Chapter" title="3 Federation Endpoint" href="#rfc.section.3"><link rel="Chapter" title="4 Participant Endpoint" href="#rfc.section.4"><link rel="Chapter" title="5 Entity Endpoint" href="#rfc.section.5"><link rel="Chapter" title="6 Metadata Endpoint" href="#rfc.section.6"><link rel="Chapter" title="7 Schema Endpoint" href="#rfc.section.7"><link rel="Chapter" title="8 Acknowledgments" href="#rfc.section.8"><link rel="Chapter" href="#rfc.section.9" title="9 References"><meta name="generator" content="http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.736, 2015/06/05 18:58:55, XSLT vendor: libxslt http://xmlsoft.org/XSLT/"><link rel="schema.dct" href="http://purl.org/dc/terms/"><meta name="dct.creator" content="Schwartz, M."><meta name="dct.creator" content="Ulanowski, J."><meta name="dct.creator" content="Zabrovarnyy, Y."><meta name="dct.creator" content="Joshi, M."><meta name="dct.identifier" content="urn:ietf:id:otto-core"><meta name="dct.issued" scheme="ISO8601" content="2017-04-02"><meta name="dct.abstract" content="This specification defines standard application interfaces that enable the creation and management of multi-party federations."><meta name="description" content="This specification defines standard application interfaces that enable the creation and management of multi-party federations."></head><body><img class="kantara" src="https://kantarainitiative.org/wp-content/uploads/2014/07/img1.png" alt="Kantara Initiative"><div id="rfc.title"><h1 class="kantara">OTTO API's 1.0</h1></div><p><table class="header kantara"><tbody><tr><td class="left kantara">Version:</td><td class="left kantara">1.0</td></tr><tr><td class="kantara" colspan="2"> </td></tr><tr><td class="left kantara">Date:</td><td class="left kantara">2017-4-2</td></tr><tr><td class="kantara" colspan="2"> </td></tr><tr><td class="left kantara">Editor:</td><td class="left kantara">Michael Schwartz, Gluu</td></tr><tr><td class="kantara" colspan="2"> </td></tr><tr><td class="left kantara">Authors:</td><td class="left kantara">Janusz Ulanowski,, HEAnet</td></tr><tr><td class="left kantara"></td><td class="left kantara"></td></tr><tr><td class="left kantara"></td><td class="left kantara">Meghna Joshi, Gluu</td></tr></tbody></table></p><h2 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h2><p>This specification defines standard application interfaces that enable the creation and management of multi-party federations.</p><div id="rfc.status"><h2><a href="#rfc.status">Status of This Document</a></h2><p>This document is a draft technical specification produced by the <a href="https://kantarainitiative.org/confluence/display/otto/Home">OTTO Work Group</a>. See the Kantara Initiative <a href="https://kantarainitiative.org/confluence/download/attachments/2293776/KI+Operating+Procedures+_V1.1_+2009-10-10.pdf">Operating Procedures</a> for more information.</p></div><div id="rfc.copyrightnotice"><h2><a href="#rfc.copyrightnotice">Copyright Notice</a></h2><p>Copyright © 2017 Kantara Initiative and the persons identified as the document authors. All rights reserved.</p><p>This document is subject to the <a href="https://kantarainitiative.org/confluence/download/attachments/2293776/Kantara%20Initiative%20IPR%20Policies%20_V1.1_.pdf?version=1&amp;modificationDate=1244488630000&amp;api=v2">Kantara IPR Policy - Option Patent &amp; Copyright: Reciprocal Royalty Free with Opt-Out to Reasonable And Non discriminatory (RAND)</a> (<a href="https://kantarainitiative.org/confluence/pages/viewpage.action?pageId=41025689">HTML version</a>).</p></div><hr class="noprint"><div id="rfc.toc"><h2 class="np"><a href="#rfc.toc">Table of Contents</a></h2><ul class="toc"><li><a href="#rfc.section.1">1.</a>   <a href="#introduction">Introduction</a><ul><li><a href="#rfc.section.1.1">1.1</a>   <a href="#rfc.section.1.1">Notational Conventions</a></li><li><a href="#rfc.section.1.2">1.2</a>   <a href="#terminology">Terminology</a></li><li><a href="#rfc.section.1.3">1.3</a>   <a href="#security">Security Considerations</a></li><li><a href="#rfc.section.1.4">1.4</a>   <a href="#search-syntax">Search Syntax</a><ul><li><a href="#rfc.section.1.4.1">1.4.1</a>   <a href="#depth-parameter">Depth Parameter</a></li><li><a href="#rfc.section.1.4.2">1.4.2</a>   <a href="#filter-parameter">Filter Parameter</a></li></ul></li></ul></li><li><a href="#rfc.section.2">2.</a>   <a href="#configuration-endpoint">Configuration Endpoint</a><ul><li><a href="#rfc.section.2.1">2.1</a>   <a href="#configuration-example">Configuration example</a></li></ul></li><li><a href="#rfc.section.3">3.</a>   <a href="#federation-endpoint">Federation Endpoint</a><ul><li><a href="#rfc.section.3.1">3.1</a>   <a href="#create-federation">Create Federation</a></li><li><a href="#rfc.section.3.2">3.2</a>   <a href="#search-federation">Search Federation</a></li><li><a href="#rfc.section.3.3">3.3</a>   <a href="#update-federation">Update Federation</a></li><li><a href="#rfc.section.3.4">3.4</a>   <a href="#patch-federation">Patch Federation</a><ul><li><a href="#rfc.section.3.4.1">3.4.1</a>   <a href="#add-patch-federation">Add Operation</a></li><li><a href="#rfc.section.3.4.2">3.4.2</a>   <a href="#replace-patch-federation">Replace Operation</a></li><li><a href="#rfc.section.3.4.3">3.4.3</a>   <a href="#remove-patch-federation">Remove Operation</a></li></ul></li><li><a href="#rfc.section.3.5">3.5</a>   <a href="#delete-federation">Delete Federation</a></li><li><a href="#rfc.section.3.6">3.6</a>   <a href="#leave-federation">Leave Federation</a></li><li><a href="#rfc.section.3.7">3.7</a>   <a href="#link-federation-entity">Link entity to federation</a></li><li><a href="#rfc.section.3.8">3.8</a>   <a href="#add-new-service">Add new service to federation</a></li><li><a href="#rfc.section.3.9">3.9</a>   <a href="#link-participant-member-federation">Link participant(member) to federation</a></li><li><a href="#rfc.section.3.10">3.10</a>   <a href="#link-participant-sponsor-federation">Link participant(sponsor) to federation</a></li></ul></li><li><a href="#rfc.section.4">4.</a>   <a href="#participant-endpoint">Participant Endpoint</a><ul><li><a href="#rfc.section.4.1">4.1</a>   <a href="#create-participant">Create Participant</a></li><li><a href="#rfc.section.4.2">4.2</a>   <a href="#fetch-participant">Fetch Participant</a></li><li><a href="#rfc.section.4.3">4.3</a>   <a href="#update-participant">Update Participant</a></li><li><a href="#rfc.section.4.4">4.4</a>   <a href="#patch-participant">Patch participant</a><ul><li><a href="#rfc.section.4.4.1">4.4.1</a>   <a href="#add-patch-participant">Add Operation</a></li><li><a href="#rfc.section.4.4.2">4.4.2</a>   <a href="#replace-patch-participant">Replace Operation</a></li><li><a href="#rfc.section.4.4.3">4.4.3</a>   <a href="#remove-patch-participant">Remove Operation</a></li></ul></li><li><a href="#rfc.section.4.5">4.5</a>   <a href="#delete-participant">Delete Participant</a></li><li><a href="#rfc.section.4.6">4.6</a>   <a href="#link-participant-memberOf-federation">Link participant(member) of federation</a></li><li><a href="#rfc.section.4.7">4.7</a>   <a href="#link-entity-service-participant">Link entity(service) to participant</a></li></ul></li><li><a href="#rfc.section.5">5.</a>   <a href="#entity-endpoint">Entity Endpoint</a><ul><li><a href="#rfc.section.5.1">5.1</a>   <a href="#create-entity">Create Entity</a></li><li><a href="#rfc.section.5.2">5.2</a>   <a href="#fetch-entity">Fetch Entity</a></li><li><a href="#rfc.section.5.3">5.3</a>   <a href="#update-entity">Update entity</a></li><li><a href="#rfc.section.5.4">5.4</a>   <a href="#patch-entity">Patch Entity</a><ul><li><a href="#rfc.section.5.4.1">5.4.1</a>   <a href="#add-patch-entity">Add Operation</a></li><li><a href="#rfc.section.5.4.2">5.4.2</a>   <a href="#replace-patch-entity">Replace Operation</a></li><li><a href="#rfc.section.5.4.3">5.4.3</a>   <a href="#remove-patch-entity">Remove Operation</a></li></ul></li><li><a href="#rfc.section.5.5">5.5</a>   <a href="#delete-entity">Delete Entity</a></li><li><a href="#rfc.section.5.6">5.6</a>   <a href="#link-entity-federation">Link entity with federation</a></li></ul></li><li><a href="#rfc.section.6">6.</a>   <a href="#metadata-endpoint">Metadata Endpoint</a><ul><li><a href="#rfc.section.6.1">6.1</a>   <a href="#create-metadata">Create Metadata</a></li><li><a href="#rfc.section.6.2">6.2</a>   <a href="#fetch-metadata">Fetch Metadata</a></li><li><a href="#rfc.section.6.3">6.3</a>   <a href="#update-metadata">Update Metadata</a></li><li><a href="#rfc.section.6.4">6.4</a>   <a href="#delete-metadata">Delete Metadata</a></li></ul></li><li><a href="#rfc.section.7">7.</a>   <a href="#schema-endpoint">Schema Endpoint</a><ul><li><a href="#rfc.section.7.1">7.1</a>   <a href="#create-schema">Create schema</a></li><li><a href="#rfc.section.7.2">7.2</a>   <a href="#fetch-schema">Fetch Schema</a></li><li><a href="#rfc.section.7.3">7.3</a>   <a href="#update-schema">Update Schema</a></li><li><a href="#rfc.section.7.4">7.4</a>   <a href="#delete-schema">Delete Schema</a></li><li><a href="#rfc.section.7.5">7.5</a>   <a href="#link-schema-federation">Link schema with federation</a></li><li><a href="#rfc.section.7.6">7.6</a>   <a href="#link-schema-entity">Link schema with entity</a></li><li><a href="#rfc.section.7.7">7.7</a>   <a href="#schema-category">Schema Categories</a></li></ul></li><li><a href="#rfc.section.8">8.</a>   <a href="#Acknowledgments">Acknowledgments</a></li><li><a href="#rfc.section.9">9.</a>   <a href="#rfc.references">References</a><ul><li><a href="#rfc.section.9.1">9.1</a>   <a href="#rfc.references.1">Normative References</a></li><li><a href="#rfc.section.9.2">9.2</a>   <a href="#rfc.references.2">Informative References</a></li></ul></li><li><a href="#rfc.authors">Authors' Addresses</a></li></ul></div><hr class="noprint"><div id="introduction"><h2 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a> <a href="#introduction">Introduction</a></h2><div id="rfc.section.1.p.1"><p>The Open Trust Taxonomy for Federation Operators (OTTO) defines standards to enable the interoperable management of multi-party federations--where a central authority creates the rules for membership, enabling the participants to more efficiently collaborate. The goal of OTTO is to support a range of trust models from very low to very high. By providing a common set of API's and a data model, the OTTO standard provides a scalable technical infrastructure to solve organizational challenges in a number of different ecosystems.</p></div><div><h3 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1</a> Notational Conventions</h3><div id="rfc.section.1.1.p.1"><p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119"><cite title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>.</p></div><div id="rfc.section.1.1.p.2"><p>Unless otherwise noted, all protocol properties and values are case sensitive.</p></div></div><div id="terminology"><h3 id="rfc.section.1.2"><a href="#rfc.section.1.2">1.2</a> <a href="#terminology">Terminology</a></h3><div id="rfc.section.1.2.p.1"><p>This specification introduces the following terms </p><dl><dt>Federation</dt><dd style="margin-left: 4.2em">A group of autonomous organizations that agree to abide the authority of a central organization to reduce the cost of collaboration.</dd><dt>Registration Authority</dt><dd style="margin-left: 4.2em">An organization that hosts the hardware and software used by Federation operators.</dd><dt>Participant</dt><dd style="margin-left: 4.2em">An organization that registers with a Registration Authority for the purpose of joining a Federation.</dd><dt>Entity</dt><dd style="margin-left: 4.2em">A techincal service operated by a Particpant, such as an identity provider, website or mobile application.</dd><dt>Issuer</dt><dd style="margin-left: 4.2em">Location of the Registration Authority, which MUST be a URI <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a> with a scheme component that MUST be https, a host component, and optionally, port and path components and no query or fragment components.</dd></dl></div></div><div id="security"><h3 id="rfc.section.1.3"><a href="#rfc.section.1.3">1.3</a> <a href="#security">Security Considerations</a></h3><div id="rfc.section.1.3.p.1"><p>This specification defines several APIs. The Registration Authority MUST use TLS protection over these endpoints, governed by <a href="#BCP195"><cite title="Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)">[BCP195]</cite></a>, which discusses deployment and adoption characteristics of different TLS versions. All endpoints other then the .well-known configuration endpoint SHOULD require some form of authentication and access control, such as Client Authentication as described in <a href="#RFC6749"><cite title="The OAuth 2.0 Authorization Framework">[RFC6749]</cite></a> or a separate OAuth access token. The methods of managing and validating these authentication credentials are out of scope of this specification.</p></div></div><div id="search-syntax"><h3 id="rfc.section.1.4"><a href="#rfc.section.1.4">1.4</a> <a href="#search-syntax">Search Syntax</a></h3><div id="rfc.section.1.4.p.1"><p>OTTO API supports the depth and the filter searching feature. Those are the query parameter to passed in HTTP GET Request. which provide facility to search, navigate and filter the record.</p></div><div id="depth-parameter"><h4 id="rfc.section.1.4.1"><a href="#rfc.section.1.4.1">1.4.1</a> <a href="#depth-parameter">Depth Parameter</a></h4><div id="rfc.section.1.4.1.p.1"><p>The depth parameter provides the facility to deeply populate records with the full response. The depth parameter also supports to passed the multiple commas separated values. If depth parameter is possible to populated then it returns full response otherwise return an error with "Invalid depth parameter". You can only have depth parameter for the IRI scheme which returns JSON as response. <p>The below example is without depth parameter. which only shows the IRI value of the field. Non-normative examples of a without depth request.</p> <pre>GET /otto/federations/58f7200bcf5e0a0f09cf2c3c HTTP/1.1 </pre> <p>Non-normative response of without depth parameter. Some text was removed for readability (indicated by "..."). The detail description of federation refer <a href="#create-federation" title="Create Federation">Section 3.1</a>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#federation",
  "@id": "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c",
  "name": "fed1",
  ...
  "sponsor": [
    "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5"
  ],
  "federates": [
    "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6"
  ],
  "member": [
    "http://otto-test.gluu.org/otto/participant/58f720c7a10d8e1012e76ed4"
  ],
  ...
}


                        </pre> <p>The below example with depth parameter which deeply populates the federates and return the full response of federates of the Federation. Non-normative examples of a depth request.</p> <pre>GET /otto/federations/58f7200bcf5e0a0f09cf2c3c?depth=federates HTTP/1.1 </pre> <p>Non-normative response of depth parameter. Some text was removed for readability (indicated by "..."). The detail description of federation refer <a href="#create-federation" title="Create Federation">Section 3.1</a> and federates refer <a href="#create-entity" title="Create Entity">Section 5.1</a>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#federation",
  "@id": "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c",
  "name": "fed1",
  ...
  "federates": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#entity",
      "@id": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
      "name": "entity 1",
      "url": "http://otto-test.gluu.org/otto/entity",
      "registeredBy": {
        "@id": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df"
      },
      "description": "entity entity",
      "metadata": {
        "@id": "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0"
      },
      "federatedBy": [
        {
          "@id": "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
        }
      ],
      "supports": [
        {
          "@id": "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
        }
      ]
    }
  ],
  ...
}


                        </pre> <p>The below depth parameter deeply populate the federates and sponsor and return the full response of federates and sponsor of the Federation. Non-normative examples of a multiple depth request.</p> <pre>GET /otto/federations/58f7200bcf5e0a0f09cf2c3c?depth=federates,sponsor HTTP/1.1 </pre> <p>Non-normative response of multiple depth parameter. The detail description of federation refer <a href="#create-federation" title="Create Federation">Section 3.1</a>, for federates refer <a href="#create-entity" title="Create Entity">Section 5.1</a> and for member refer <a href="#create-participant" title="Create Participant">Section 4.1</a> :</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#federation",
  "@id": "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c",
  "name": "fed1",
 ...
  "sponsor": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#participant",
      "@id": "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5",
      "name": "participant 1",
      "url": "http://otto-test.gluu.org/otto/participant",
      "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
      "description": "participant participant",
      "securityContact": [
        {
          "contactNo": "+485647556566",
          "name": "Security Person1"
        }
      ],
      "executiveContact": [
        {
          "contactNo": "+485647556566",
          "name": "Executive Person1"
        }
      ],
      "technicalContact": [
        {
          "contactNo": "+485647556566",
          "name": "Technical Person1"
        }
      ],
      "memberOf": [
        "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
      ],
      "operates": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
      "badgeSupported": [
        "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
      ],
      "trustMarkAsserted": "http://pa.org"
    }
  ],
  "federates": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#entity",
      "@id": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
      "name": "entity 1",
      "url": "http://otto-test.gluu.org/otto/entity",
      "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
      "description": "entity entity",
      "metadata": "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0",
      "federatedBy": [
        "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
      ],
      "supports": [
        "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
      ]
    }
  ],
  ...
}

                        </pre> </p></div></div><div id="filter-parameter"><h4 id="rfc.section.1.4.2"><a href="#rfc.section.1.4.2">1.4.2</a> <a href="#filter-parameter">Filter Parameter</a></h4><div id="rfc.section.1.4.2.p.1"><p>OTTO API supports the depth and the filter feature to navigate, search and filter the record. Those are the request query parameter to passed in HTTP GET Request. The depth parameter allows to deeply populated the record and return full response. The filter parameter enables to navigate and find data within your JSON documents. To select items in JSPath, you use a location path which consists of one or more location steps. Every location step starts with one period (.) or two periods (..), depending on the item you're trying to select. It returns the result with the same key which you are passed in filter request. for detail description refer <a href="https://www.npmjs.com/package/jspath">JSPath Filter</a>. <p>The below parameter filter find the name property and return filtered output with name key. Non-normative examples of a filter request:</p> <pre>GET /otto/federations/58f7200bcf5e0a0f09cf2c3c?filter=.name HTTP/1.1 </pre> <p>Non-normative response of filter parameter:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "name": [
    "fed1"
  ]
}

                        </pre> <p>Filter parameter allows passing multiple parameters by the separating comma(,). Non-normative examples of a multiple filter request:</p> <pre>GET /otto/federations/58f7200bcf5e0a0f09cf2c3c?filter=.name,.securityContact HTTP/1.1 </pre> <p>Non-normative response of multiple filter parameter:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "name": [
    "fed1"
  ],
  "securityContact": [
    {
      "contactNo": "+485647556566",
      "name": "Security Person1"
    }
  ]
}

                        </pre> <p>Filter parameter allows filtering using nested property. Non-normative examples of a filter using nested property and depth request:</p> <pre>GET /otto/federations/58f7200bcf5e0a0f09cf2c3c?depth=federates&amp;filter=.federates.name HTTP/1.1 </pre> <p>Non-normative examples of a filter using nested property and depth response:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "federates": {
    "name": [
      "entity 1"
    ]
  }
}

                        </pre> <p>Filter parameter allows Object predicates can be used in a path expression to filter a subset of items according to boolean expressions working on the properties of each item. All object predicates are parenthesized by curly brackets ({ and }). Non-normative examples of a filter using boolean expressions and depth request:</p> <pre>GET /otto/federations/58f7200bcf5e0a0f09cf2c3c?depth=federates&amp;filter=.federates{.name==="entity 1"} HTTP/1.1 </pre> <p>Non-normative examples of a filter using boolean expressions and depth request:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "federates": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#entity",
      "@id": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
      "name": "entity 1",
      "url": "http://otto-test.gluu.org/otto/entity",
      "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
      "description": "entity entity",
      "metadata": "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0",
      "federatedBy": [
        "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
      ],
      "supports": []
    }
  ]
}

                        </pre> </p></div></div></div></div><hr class="noprint"><div id="configuration-endpoint"><h2 id="rfc.section.2" class="np"><a href="#rfc.section.2">2.</a> <a href="#configuration-endpoint">Configuration Endpoint</a></h2><div id="rfc.section.2.p.1"><p>This endpoint returns the JSON-LD for the RegistrationAuthority class, which includes information useful to clients prior to making requests. Registration Authority MUST make this JSON-LD class available at the path formed by concatenating the string <tt>/.well-known/otto-configuration</tt> to the Issuer. The syntax and semantics of <tt>.well-known</tt> are defined in<a href="#RFC5785"><cite title="Defining Well-Known Uniform Resource Identifiers (URIs)">[RFC5785]</cite></a>, and MUST point to a JSON document compliant with this specification and MUST be returned using the <tt>application/json</tt> content type.</p></div><div id="configuration-example"><h3 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1</a> <a href="#configuration-example">Configuration example</a></h3><div id="rfc.figure.u.1"><p>Non-normative example of a configuration request:</p><pre>GET /otto/.well-known/otto-configuration HTTP/1.1
Host: ra.org
                    </pre></div><div id="rfc.figure.u.2"><p>Non-normative example of a configuration response:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
   "@context": "https://docs.kantarainitiative.org/otto/vocab-1.0",
   "@id": "https://ra.acme.ex/otto/.well-known/otto-configuration",
   "name": "Acme Registration Authority",
   "url": "https://www.acme.ex",
   "description": "Registration Authority for the ACME federations",
   "federation_endpoint":"https://ra.acme.ex/otto/federation",
   "participant_endpoint":"https://ra.acme.ex/otto/participant",
   "entity_endpoint":"https://ra.acme.ex/otto/entity",
   "registers": ["https://rs.acme.ex/otto/federation/28e780f4-eedf",
                 "https://ra.acme.ex/otto/federation/348159fd-8441"]
}

                    </pre></div></div></div><hr class="noprint"><div id="federation-endpoint"><h2 id="rfc.section.3" class="np"><a href="#rfc.section.3">3.</a> <a href="#federation-endpoint">Federation Endpoint</a></h2><div id="rfc.section.3.p.1"><p>This endpoint, hosted by the Registration Authority, enables the creation and management of Federations.</p></div><div id="create-federation"><h3 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1</a> <a href="#create-federation">Create Federation</a></h3><div id="rfc.section.3.1.p.1"><p>This is POST API endpoint to create the federation. It needs to pass the required parameter to add the new federation. If you try to add federation with the same name which already exists then it returns response with error key with the message is "Federation already exist with the same name".</p></div><div id="rfc.figure.u.3"><p>There are several properties which used for federation. <div id="rfc.section.3.1.p.1"><div id="rfc.table.1"><div id="table_federation"></div><table class="tt full tcenter" cellpadding="3" cellspacing="0"><caption>Table 1: Federation</caption><thead><tr><th class="left">Property</th><th class="left">Value</th><th class="left">Description</th></tr></thead><tbody><tr><td class="left"><strong>name</strong></td><td class="left"><strong>REQUIRED</strong></td><td class="left">A human friendly name for the Federation</td></tr><tr><td class="left">description</td><td class="left">OPTIONAL</td><td class="left">It is Optional information about the RA</td></tr><tr><td class="left">url</td><td class="left">OPTIONAL</td><td class="left">The public, human readable website for the Federation</td></tr><tr><td class="left">operates</td><td class="left">OPTIONAL</td><td class="left">It is the Entity or array of Entity. A service operated by the Federation</td></tr><tr><td class="left">metadata</td><td class="left">OPTIONAL</td><td class="left">It is the Metadata or array of Metadata. The metadata (including public signing key) for this Federation</td></tr><tr><td class="left">supports</td><td class="left">OPTIONAL</td><td class="left">It is the Schema or array of Schema. It describes what schema is supported by this Federation.</td></tr><tr><td class="left"><strong>registeredBy</strong></td><td class="left"><strong>REQUIRED</strong></td><td class="left">The Registration Authority where the federation is hosted</td></tr><tr><td class="left">member</td><td class="left">OPTIONAL</td><td class="left">It is the array of Participants. List of organizational members of the Federation</td></tr><tr><td class="left">federates</td><td class="left">OPTIONAL</td><td class="left">It is the array of Entity. List of services registered to the federation by Participants</td></tr><tr><td class="left"><strong>sponsor</strong></td><td class="left"><strong>REQUIRED</strong></td><td class="left">It is an Organization or array of Organization. The organization legally responsible for management of the Federation</td></tr><tr><td class="left">technicalContact</td><td class="left">OPTIONAL</td><td class="left">It is the Person or array of Person. Person(s) responsible for registering and maintaining the policies and technical data related to the organization's participation in the Federation</td></tr><tr><td class="left">executiveContact</td><td class="left">OPTIONAL</td><td class="left">It is the Person or array of Person. Person(s) responsible for all decisions and delegations of authority for the Federation</td></tr><tr><td class="left">securityContact</td><td class="left">OPTIONAL</td><td class="left">Person(s) to contact in the event of an urgent security issue</td></tr><tr><td class="left">dataProtectionCodeOfConduct</td><td class="left">OPTIONAL</td><td class="left">It is the URL. The provisions regarding handling of personal information by the Federation Participants</td></tr><tr><td class="left">federationAgreement</td><td class="left">OPTIONAL</td><td class="left">It is the URL. The rights and responsibilities of the Participant</td></tr><tr><td class="left">federationPolicy</td><td class="left">OPTIONAL</td><td class="left">It is the URL. Operational practices and technical details for participation in the Federation.</td></tr><tr><td class="left">trustMarkDefinitionSupported</td><td class="left">OPTIONAL</td><td class="left">It is the instance or array of TrustMarkDefinition or URL. What kinds of Trustmarks are supported by the federation</td></tr><tr><td class="left">badgeSupported</td><td class="left">OPTIONAL</td><td class="left">It is the instance or array of BadgeClass or IRI. What kinds of Badges are supported by the federation</td></tr></tbody></table></div></div> </p><p>Non-normative example of add a federation request</p><pre>POST /otto/federations HTTP/1.1
{
	"name": "fed1",
	"url": "http://otto-test.gluu.org/otto/federation",
	"registeredBy": "58f5da4957d53d2ffbbb31df",
	"sponsor": "58f720c7a10d8e1012e76ed4",
	"description": "fedearation fedearation",
	"securityContact": [{"name":"Security Person1", "contactNo":"+485647556566"}],
	"executiveContact": [{"name":"Executive Person1", "contactNo":"+485647556566"}],
	"technicalContact": [{"name":"Technical Person1", "contactNo":"+485647556566"}],
	"dataProtectionCodeOfConduct": "https://fd.org",
	"federationAgreement": "https://fd.org",
	"federationPolicy": "https://fd.org"
}

                    </pre></div><div id="rfc.figure.u.4"><p>Non-normative example of add a federation response:</p><p>In response it return with "@id" key, This is Unique IRI for the newly added Federation:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@id": "http://otto-test.gluu.org/otto/federations/5909b4218489131c19abfa29"
}

                    </pre></div></div><div id="search-federation"><h3 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2</a> <a href="#search-federation">Search Federation</a></h3><div id="rfc.section.3.2.p.1"><p>This is GET API endpoint to fetch federation information. There are several ways to fetch federation information. you can fetch all the records, fetch all records with depth, fetch specific federation and also filtered using JSPath filter parameter.</p></div><div id="rfc.figure.u.5"><p>Non-normative example of a federation request to fetch all federation list:</p><pre>GET /otto/federations HTTP/1.1 
                    </pre></div><div id="rfc.figure.u.6"><p>Non-normative example of a federation response with json array:</p><p><dl><dt>federations</dt><dd style="margin-left: 4.2em">List of federation</dd><dt>itemsPerPage</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the number of query results returned in a query response page, e.g., 10.</dd><dt>totalResults</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the total number of results matching the client query, e.g., 1000.</dd><dt>startIndex</dt><dd style="margin-left: 4.2em">The 1-based index of the first result in the current set of query results, e.g., 1.</dd></dl> </p><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "federations": [
    "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c",
    "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3d"
  ],
  "totalResults": 2,
  "itemsPerPage": 0,
  "startIndex": 1
}

                    </pre></div><div id="rfc.figure.u.7"><p>Non-normative example of a federation request to fetch deep information of each federation:</p><pre>GET /otto/federations?depth=federations HTTP/1.1 </pre></div><div id="rfc.figure.u.8"><p>Non-normative example of a federation response with fetch deep information, for federation response description see the <a href="#create-federation" title="Create Federation">Section 3.1</a></p><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "federations": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#federation",
      "@id": "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c",
      "name": "fed1",
      "url": "http://otto-test.gluu.org/otto/federation",
      "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
      "description": "fedearation first",
      "dataProtectionCodeOfConduct": "https://fd.org",
      "federationAgreement": "https://fd.org",
      "federationPolicy": "https://fd.org",
      "securityContact": [
        {
          "contactNo": "+485647556566",
          "name": "Security Person1"
        }
      ],
      "executiveContact": [
        {
          "contactNo": "+485647556566",
          "name": "Executive Person1"
        }
      ],
      "technicalContact": [
        {
          "contactNo": "+485647556566",
          "name": "Technical Person1"
        }
      ],
      "sponsor": [
        "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5"
      ],
      "federates": [
        "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6"
      ],
      "member": [
        "http://otto-test.gluu.org/otto/participant/58f720c7a10d8e1012e76ed4"
      ],
      "trustMarkDefinitionSupported": [
        "https://fd.org"
      ],
      "badgeSupported": [
        "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
      ],
      "supports": [
        "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
      ],
      "metadata": [
        "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0"
      ]
    },
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#federation",
      "@id": "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c",
      "name": "fed2",
      "url": "http://otto-test.gluu.org/otto/federation",
      "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
      "description": "fedearation Second",
      "dataProtectionCodeOfConduct": "https://fd.org",
      "federationAgreement": "https://fd.org",
      "federationPolicy": "https://fd.org",
      "securityContact": [
        {
          "contactNo": "+485647556566",
          "name": "Security Person1"
        }
      ],
      "executiveContact": [
        {
          "contactNo": "+485647556566",
          "name": "Executive Person1"
        }
      ],
      "technicalContact": [
        {
          "contactNo": "+485647556566",
          "name": "Technical Person1"
        }
      ],
      "sponsor": [
        "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5"
      ],
      "federates": [
        "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6"
      ],
      "member": [
        "http://otto-test.gluu.org/otto/participant/58f720c7a10d8e1012e76ed4"
      ],
      "trustMarkDefinitionSupported": [
        "https://fd.org"
      ],
      "badgeSupported": [
        "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
      ],
      "supports": [
        "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
      ],
      "metadata": [
        "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0"
      ]
    }
  ],
  "totalResults": 2,
  "itemsPerPage": 0,
  "startIndex": 1
}

                    </pre></div><div id="rfc.figure.u.9"><p>Non-normative example of a federation request by passing the unique id to fetch specific full response of specific federation. When federation not exists, it returns response "Federation doesn't exist":</p><pre>GET /otto/federations/58f7200bcf5e0a0f09cf2c3c HTTP/1.1 </pre></div><div id="rfc.figure.u.10"><p>Non-normative example of a federation response of specific federation, for response description see the <a href="#create-federation" title="Create Federation">Section 3.1</a>.</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#federation",
  "@id": "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c",
  "name": "fed1",
  "url": "http://otto-test.gluu.org/otto/federation",
  "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
  "description": "fedearation fedearation",
  "dataProtectionCodeOfConduct": "https://fd.org",
  "federationAgreement": "https://fd.org",
  "federationPolicy": "https://fd.org",
  "securityContact": [
    {
      "contactNo": "+485647556566",
      "name": "Security Person1"
    }
  ],
  "executiveContact": [
    {
      "contactNo": "+485647556566",
      "name": "Executive Person1"
    }
  ],
  "technicalContact": [
    {
      "contactNo": "+485647556566",
      "name": "Technical Person1"
    }
  ],
  "sponsor": [
    "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5"
  ],
  "federates": [
    "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6"
  ],
  "member": [
    "http://otto-test.gluu.org/otto/participant/58f720c7a10d8e1012e76ed4"
  ],
  "trustMarkDefinitionSupported": [
    "https://fd.org"
  ],
  "badgeSupported": [
    "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
  ],
  "supports": [
    "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
  ],
  "metadata": [
    "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0"
  ]
}

                    </pre></div><div id="rfc.figure.u.11"><p>Non-normative example of a federation request ot fetch depth of specific federation. for depth parameter description refer <a href="#search-syntax" title="Search Syntax">Section 1.4</a>:</p><pre>GET /otto/federations/58f7200bcf5e0a0f09cf2c3c?depth=federates HTTP/1.1 </pre></div><div id="rfc.figure.u.12"><p>Non-normative example of a federation response with deep populate of specific federation, for response description see the <a href="#create-federation" title="Create Federation">Section 3.1</a>:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#federation",
  "@id": "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c",
  "name": "fed1",
  "url": "http://otto-test.gluu.org/otto/federation",
  "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
  "description": "fedearation fedearation",
  "dataProtectionCodeOfConduct": "https://fd.org",
  "federationAgreement": "https://fd.org",
  "federationPolicy": "https://fd.org",
  "securityContact": [
    {
      "contactNo": "+485647556566",
      "name": "Security Person1"
    }
  ],
  "executiveContact": [
    {
      "contactNo": "+485647556566",
      "name": "Executive Person1"
    }
  ],
  "technicalContact": [
    {
      "contactNo": "+485647556566",
      "name": "Technical Person1"
    }
  ],
  "sponsor": [
    "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5"
  ],
  "federates": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#entity",
      "@id": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
      "name": "entity 1",
      "url": "http://otto-test.gluu.org/otto/entity",
      "registeredBy": {
        "@id": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df"
      },
      "description": "entity entity",
      "metadata": {
        "@id": "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0"
      },
      "federatedBy": [
        {
          "@id": "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
        }
      ],
      "supports": [
        {
          "@id": "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
        }
      ]
    }
  ],
  "member": [
    "http://otto-test.gluu.org/otto/participant/58f720c7a10d8e1012e76ed4"
  ],
  "trustMarkDefinitionSupported": [
    "https://fd.org"
  ],
  "badgeSupported": [
    "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
  ],
  "supports": [
    "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
  ],
  "metadata": [
    "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0"
  ]
}


                    </pre></div><div id="rfc.figure.u.13"><p>Non-normative example of a federation request with multiple depth parameter:</p><pre>GET /otto/federations/58f7200bcf5e0a0f09cf2c3c?depth=sponsor,federates HTTP/1.1 </pre></div><div id="rfc.figure.u.14"><p>Non-normative example of a federation response of multiple depth parameter, for response description of federation see the <a href="#create-federation" title="Create Federation">Section 3.1</a>. It populate the sponsor and federates of this federation.</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#federation",
  "@id": "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c",
  "name": "fed1",
  "url": "http://otto-test.gluu.org/otto/federation",
  "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
  "description": "fedearation fedearation",
  "dataProtectionCodeOfConduct": "https://fd.org",
  "federationAgreement": "https://fd.org",
  "federationPolicy": "https://fd.org",
  "securityContact": [
    {
      "contactNo": "+485647556566",
      "name": "Security Person1"
    }
  ],
  "executiveContact": [
    {
      "contactNo": "+485647556566",
      "name": "Executive Person1"
    }
  ],
  "technicalContact": [
    {
      "contactNo": "+485647556566",
      "name": "Technical Person1"
    }
  ],
  "sponsor": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#participant",
      "@id": "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5",
      "name": "participant 1",
      "url": "http://otto-test.gluu.org/otto/participant",
      "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
      "description": "participant participant",
      "securityContact": [
        {
          "contactNo": "+485647556566",
          "name": "Security Person1"
        }
      ],
      "executiveContact": [
        {
          "contactNo": "+485647556566",
          "name": "Executive Person1"
        }
      ],
      "technicalContact": [
        {
          "contactNo": "+485647556566",
          "name": "Technical Person1"
        }
      ],
      "memberOf": [
        "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
      ],
      "operates": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
      "badgeSupported": [
        "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
      ],
      "trustMarkAsserted": "http://pa.org"
    }
  ],
  "federates": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#entity",
      "@id": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
      "name": "entity 1",
      "url": "http://otto-test.gluu.org/otto/entity",
      "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
      "description": "entity entity",
      "metadata": "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0",
      "federatedBy": [
        "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
      ],
      "supports": [
        "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
      ]
    }
  ],
  "member": [
    "http://otto-test.gluu.org/otto/participant/58f720c7a10d8e1012e76ed4"
  ],
  "trustMarkDefinitionSupported": [
    "https://fd.org"
  ],
  "badgeSupported": [
    "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
  ],
  "supports": [
    "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
  ],
  "metadata": [
    "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0"
  ]
}

                    </pre></div><div id="rfc.figure.u.15"><p>Non-normative example of a federation request when invalid depth parameter is passed, It response with "Invalid depth parameter"</p><pre>GET /otto/federations/58f7200bcf5e0a0f09cf2c3c?depth=description HTTP/1.1 </pre></div><div id="rfc.figure.u.16"><p>Non-normative example of a federation response</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "error": [
    "Invalid depth parameter"
  ]
}

                    </pre></div><div id="rfc.figure.u.17"><p>Non-normative example of a federation request using filter parameter</p><pre>GET /otto/federations/58f7200bcf5e0a0f09cf2c3c?filter=.securityContact HTTP/1.1 </pre></div><div id="rfc.figure.u.18"><p>Non-normative example of a federation response with filter parameter. It will filter json object as per given JSPath. JSPath is always start from dot(.)</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "securityContact": [
    {
      "contactNo": "+485647556566",
      "name": "Security Person1"
    }
  ]
}

                    </pre></div><div id="rfc.figure.u.19"><p>Non-normative example of a federation request using multiple filter parameter:</p><pre>GET /otto/federations/58f7200bcf5e0a0f09cf2c3c?filter=.securityContact,.name HTTP/1.1 </pre></div><div id="rfc.figure.u.20"><p>Non-normative example of a federation response with multiple depth parameter:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "securityContact": [
    {
      "contactNo": "+485647556566",
      "name": "Security Person1"
    }
  ],
  "name": [
    "fed1"
  ]
}

                    </pre></div><div id="rfc.figure.u.21"><p>Non-normative example of a federation request using filter condition parameter:</p><pre>GET /otto/federations/58f7200bcf5e0a0f09cf2c3c?filter=.member{.name==="participant 2"} HTTP/1.1 </pre></div><div id="rfc.figure.u.22"><p>Non-normative example of a federation response with filter condition parameter:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "member": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#participant",
      "@id": "http://otto-test.gluu.org/otto/participant/58f720c7a10d8e1012e76ed4",
      "name": "participant 2",
      "url": "http://otto-test.gluu.org/otto/participant",
      "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
      "description": "participant participant",
      "securityContact": [
        {
          "contactNo": "+485647556566",
          "name": "Security Person1"
        }
      ],
      "executiveContact": [
        {
          "contactNo": "+485647556566",
          "name": "Executive Person1"
        }
      ],
      "technicalContact": [
        {
          "contactNo": "+485647556566",
          "name": "Technical Person1"
        }
      ],
      "memberOf": [],
      "badgeSupported": [
        "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
      ],
      "operates": ""
    }
  ]
}


                    </pre></div><div id="rfc.figure.u.23"><p>Non-normative example of a federation request using page no and page length parameter:</p><p><dl><dt>pageno</dt><dd style="margin-left: 4.2em">The 1-based index of the first query result. A value less than 1 SHALL be interpreted as 1.</dd><dt>pagelength</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the desired maximum number of query results per page, e.g., 10.</dd></dl> </p><pre>GET /otto/federations?pageno=1&amp;pagelength=5 HTTP/1.1 </pre></div><div id="rfc.figure.u.24"><p>Non-normative example of a federation response of page no and page length parameter:</p><p><dl><dt>federations</dt><dd style="margin-left: 4.2em">Contain list of federation array</dd><dt>itemsPerPage</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the number of query results returned in a query response page, e.g., 10.</dd><dt>totalResults</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the total number of results matching the client query, e.g., 1000.</dd><dt>startIndex</dt><dd style="margin-left: 4.2em">The 1-based index of the first result in the current set of query results, e.g., 1.</dd></dl> </p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "federations": [
    "http://otto-test.gluu.org/otto/federations/59157847d1285b2273ef83d2",
    "http://otto-test.gluu.org/otto/federations/5915784bd1285b2273ef83d3",
    "http://otto-test.gluu.org/otto/federations/59157850d1285b2273ef83d4",
    "http://otto-test.gluu.org/otto/federations/59157854d1285b2273ef83d5",
    "http://otto-test.gluu.org/otto/federations/59157857d1285b2273ef83d6"
  ],
  "totalResults": 2,
  "itemsPerPage": 0,
  "startIndex": 1
}

                    </pre></div></div><div id="update-federation"><h3 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3</a> <a href="#update-federation">Update Federation</a></h3><div id="rfc.section.3.3.p.1" class="avoidbreakafter"><p>This is PUT API endpoint to update federation. you need to pass the value of the field which you want to update. It will update only those field which you passed into parameter. The possible parameter you can passed for update, refer <a href="#create-federation" title="Create Federation">Section 3.1</a>:</p></div><div id="rfc.figure.u.25"><p>Non-normative example of update a federation request:</p><pre>PUT /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
{
	"name": "fed1",
	"url": "http://otto-test.gluu.org/otto/federation",
	"description": "fedearation fedearation",
	"securityContact": [{"name":"Security Person1", "contactNo":"+485647556566"}],
	"executiveContact": [{"name":"Executive Person1", "contactNo":"+485647556566"}],
	"technicalContact": [{"name":"Technical Person1", "contactNo":"+485647556566"}],
	"dataProtectionCodeOfConduct": "https://fd.org",
	"federationAgreement": "https://fd.org",
	"federationPolicy": "https://fd.org"
}

                    </pre></div><div id="rfc.figure.u.26"><p>Non-normative example of update a Federation response. It returns response with status 200 when successfully updated the federation.</p><pre>HTTP/1.1 200 OK 
                    </pre></div></div><div id="patch-federation"><h3 id="rfc.section.3.4"><a href="#rfc.section.3.4">3.4</a> <a href="#patch-federation">Patch Federation</a></h3><div id="rfc.section.3.4.p.1"><p>HTTP PATCH is an OPTIONAL server function that enables clients to update one or more attributes of a federation resource using a sequence of operations to "add", "remove", or "replace" values.</p></div><div id="rfc.section.3.4.p.2"><p>The body of an HTTP PATCH request MUST contain the attribute "op", whose value is an array of one or more PATCH operations. Each PATCH operation object MUST have exactly one "op" member, whose value indicates the operation to perform and MAY be one of "add", "remove", or "replace".</p></div><div id="rfc.figure.u.27"><p>The following non-normative example show how to add a executive contact in federation request:</p><pre>PATCH /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
{
"op": "add",
"path": "executiveContact",
"value": {
      "contactNo": "+485647556566",
      "name": "Executive Person2"
  }
}

                    </pre></div><div id="rfc.figure.u.28"><p>Non-normative example of add patch operation Federation response. On successful completion, the server either MUST return a 200 OK response code.</p><pre>HTTP/1.1 200 OK 
                    </pre></div><div id="rfc.section.3.4.p.3"><p>The "path" attribute value is a String containing an attribute path describing the target of the operation. The "path" attribute is OPTIONAL for "add" and "replace" and is REQUIRED for "remove" operations.</p></div><div id="rfc.section.3.4.p.4" class="avoidbreakafter"><p>Valid examples of "path" are as follows:</p></div><ol><li>"path": "federates"</li><li>"path":"securityContact.name"</li><li>"path": "securityContact[name eq \"Person1\"]"</li><li>"path": "securityContact[name eq \"Person1\"].name"</li><li>"path":"/federates/59414908e7748f4d19541f46" -&gt; Allow only for remove patch operation</li></ol><div id="add-patch-federation"><h4 id="rfc.section.3.4.1"><a href="#rfc.section.3.4.1">3.4.1</a> <a href="#add-patch-federation">Add Operation</a></h4><div id="rfc.section.3.4.1.p.1"><p>The "add" operation is used to add a new attribute value to an existing resource.</p></div><div id="rfc.section.3.4.1.p.2"><p>The operation MUST contain a "value" member whose content specifies the value to be added. The value MAY be a quoted value, or it may be a JSON object containing the sub-attributes of the complex attribute specified in the operation's "path".</p></div><div id="rfc.section.3.4.1.p.3" class="avoidbreakafter"><p>The result of the add operation depends upon what the target location indicated by "path" references:</p></div><ul><li>If omitted, the target location is assumed to be the resource itself. The "value" parameter contains a set of attributes to be added to the resource.</li><li>If the target location specifies a multi-valued attribute, a new value is added to the attribute.</li><li>If the target location specifies a single-valued attribute, the existing value is replaced.</li><li>If the target location specifies a complex attribute, a set of sub-attributes SHALL be specified in the "value" parameter.</li></ul><div id="rfc.section.3.4.1.p.4"><p>Below is the non-normative example of possible patch request.</p></div><div id="rfc.figure.u.29"><p>The following non-normative example shows how to add entity as a federates in federation:</p><pre>PATCH /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
{
"op":"add",
"path":"federates",
"value":["593e389eef45281765f96128"]
}

                        </pre><p>Non-normative example of add patch operation without path property to federation request:</p><pre>PATCH /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
{
"op":"add",
"value":{
 "federates": ["593e389eef45281765f96128"]
 }
}

                        </pre><p>Non-normative example of patch operation to passed single value in multivalued attribute:</p><pre>PATCH /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
{
"op":"add",
"value":{
 "federates": "593e389eef45281765f96128"
 }
}

                        </pre><p>Non-normative example of patch to single valued attribute:</p><pre>PATCH /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
{
 "op": "add",
 "path": "name",
 "value": "fed-test"
}

                        </pre><p>Non-normative example of patch with path parameter condition. Currently It only allow equels(eq) operation:</p><pre>PATCH /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
{
 "op": "add",
 "path": "securityContact[name eq \"sec12\"]",
 "value": {
      "contactNo": "+485647556566",
      "name": "sec1"
    }
}

                        </pre><p>Non-normative example of patch to sub attribute:</p><pre>PATCH /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
{
 "op": "add",
 "path": "securityContact[name eq \"Person1\"].name",
 "value":"Person One"
}

                        </pre><p>Non-normative example of patch to multiple attribute:</p><pre>PATCH /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
{
 "op": "add",
 "value": {
  "name":"fed-name",
  "description": "fed-desc"
 }
}

                        </pre></div></div><div id="replace-patch-federation"><h4 id="rfc.section.3.4.2"><a href="#rfc.section.3.4.2">3.4.2</a> <a href="#replace-patch-federation">Replace Operation</a></h4><div id="rfc.section.3.4.2.p.1" class="avoidbreakafter"><p>The "replace" operation replaces the value at the target location specified by the "path". The operation performs the following functions, depending on the target location specified by "path":</p></div><ul><li>If the "path" parameter is omitted, the target is assumed to be the resource itself. In this case, the "value" attribute SHALL contain a list of one or more attributes that are to be replaced.</li><li>If the target location is a multi-valued attribute, the attribute and all values are replaced.</li><li>If the target location is a single-value attribute, the attributes value is replaced.</li><li>If the target location specifies a complex attribute, a set of sub-attributes SHALL be specified in the "value" parameter, which replaces any existing values or adds where an attribute did not previously exist. Sub-attributes that are not specified in the "value" parameter are left unchanged.</li><li>If the target location is a multi-valued attribute and a value selection filter is specified that matches one or more values of the multi-valued attribute, then all matching record values SHALL be replaced.</li><li>If the target location is a complex multi-valued attribute with a value selection filter ("valuePath") and a specific sub-attribute (e.g., "securityContact[name eq "abc"].contactNo"), the matching sub-attribute of all matching records is replaced.</li></ul><div id="rfc.section.3.4.2.p.2"><p>Replace patch also support all the possibilities as describe in <a href="#add-patch-federation" title="Add Operation">Section 3.4.1</a> </p></div><div id="rfc.figure.u.30"><p>Non-normative example of replace patch operation federation request. It remove previous federates and adde new federates:</p><pre>PATCH /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
{
 "op": "replace",
 "path": "federates",
 "value": ["593e389eef45281765f96128"]
}

                        </pre><p>Non-normative example of add patch operation without path property federation request:</p><pre>PATCH /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
{
"op":"replace",
"value":{
 "executiveContact": [
    {
      "contactNo": "+485647556566",
      "name": "Executive Person2"
    }
  ]
 }
}

                        </pre></div><div id="rfc.figure.u.31"><p>Non-normative example of replace patch operation Federation response. It returns response with status 200 when successfully patch the federation.</p><pre>HTTP/1.1 200 OK 
                        </pre></div></div><div id="remove-patch-federation"><h4 id="rfc.section.3.4.3"><a href="#rfc.section.3.4.3">3.4.3</a> <a href="#remove-patch-federation">Remove Operation</a></h4><div id="rfc.section.3.4.3.p.1" class="avoidbreakafter"><p>The "remove" operation removes the value at the target location specified by the required attribute "path". The operation performs the following functions, depending on the target location specified by "path":</p></div><ul><li>If the target location is a single-value attribute, the attribute and its associated value is removed, and the attribute SHALL be considered unassigned null.</li><li>If the target location is a multi-valued attribute, the attribute and all values are removed, and the attribute SHALL be considered null array.</li><li>If the target location is a multi-valued attribute and a complex filter is specified comparing a "value", the values matched by the filter are removed. If no other values remain after removal of the selected values, the multi-valued attribute SHALL be considered null.</li><li>If the target location is a complex multi-valued attribute and a complex filter is specified based on the attribute's sub-attributes, the matching records are removed. Sub-attributes whose values have been removed SHALL be considered unassigned. If the complex multi-valued attribute has no remaining records, the attribute SHALL be considered unassigned.</li></ul><div id="rfc.figure.u.32"><p>Non-normative example of remove patch operation federation request to remove specific federates from federation:</p><pre>PATCH /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
{
 "op":"remove",
 "path":"/federates/59414908e7748f4d19541f46"
}

                        </pre><p>Non-normative example of remove patch operation federation request to removed multivalued attribute all values. It will remove all executiveContact:</p><pre>PATCH /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
{
 "op": "remove",
 "path": "executiveContact"
}

                        </pre><p>Non-normative example of remove patch operation federation request with path parameter condition. It will remove executiveContact whose name is "sec2":</p><pre>PATCH /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
{
 "op":"remove",
 "path":"securityContact[name eq \"sec2\"]"
}

                        </pre></div><div id="rfc.figure.u.33"><p>Non-normative example of remove patch operation Federation response. It returns response with status 200 when successfully patch the federation.</p><pre>HTTP/1.1 200 OK 
                        </pre></div></div><div id="rfc.figure.u.34"><div id="rfc.section.3.4.p.1"><p>The following example shows how to passed multiple operation in patch.</p></div><p>Non-normative example of multiple patch operation federation request:</p><pre>PATCH /otto/federations/5909b4218489131c19abfa29 HTTP/1.1
[
 {
  "op": "remove",
  "path": "executiveContact"
 },
 {
  "op": "replace",
  "path": "name",
  "value": "abc"
 }
]

                    </pre></div><div id="rfc.figure.u.35"><p>Non-normative example of multiple patch operation Federation response. It returns response with status 200 when successfully patch the federation.</p><pre>HTTP/1.1 200 OK 
                    </pre></div></div><div id="delete-federation"><h3 id="rfc.section.3.5"><a href="#rfc.section.3.5">3.5</a> <a href="#delete-federation">Delete Federation</a></h3><div id="rfc.section.3.5.p.1"><p>This is DELETE API endpoint to delete federation. It needs to passed unique id of the federation in the federation endpoint.</p></div><div id="rfc.figure.u.36"><p>Non-normative example of delete a federation request:</p><pre>DELETE /otto/federations/5909b4218489131c19abfa29 HTTP/1.1 </pre></div><div id="rfc.figure.u.37"><p>Non-normative example of delete a federation success response:</p><pre>HTTP/1.1 200 OK </pre></div><div id="rfc.figure.u.38"><p>Non-normative example of deleting a federation error response when federation not found:</p><pre>HTTP/1.1 404 OK
{
  "error": [
    "Federation doesn't exist"
  ]
}

                    </pre></div></div><div id="leave-federation"><h3 id="rfc.section.3.6"><a href="#rfc.section.3.6">3.6</a> <a href="#leave-federation">Leave Federation</a></h3><div id="rfc.section.3.6.p.1"><p>This is DELETE API for remove services of this federation. It removes entity reference from the federates of the Federation.</p></div><div id="rfc.section.3.6.p.2"><p>Their are two path request parameter. </p><dl><dt>Federation Id</dt><dd style="margin-left: 4.2em">first path parameter is federation unique id.</dd><dt>Entity Id</dt><dd style="margin-left: 4.2em">Second path parameter is entity unique id.</dd></dl></div><div id="rfc.figure.u.39"><p>Non-normative example of a federation leave request:</p><pre>DELETE /otto/federations/5909b4218489131c19abfa29/entity/58f7218ca10d8e1012e76ed6 HTTP/1.1 </pre></div><div id="rfc.figure.u.40"><p>Non-normative example of a federation leave success response:</p><pre>HTTP/1.1 200 OK </pre></div><div id="rfc.figure.u.41"><p>Non-normative example of a federation leave fail response when federation not found:</p><pre>HTTP/1.1 404 OK
{
  "error": [
    "Federation doesn't exist"
  ]
}
</pre></div><div id="rfc.figure.u.42"><p>Non-normative example of a federation leave fail response when entity doesn't exist in federates:</p><pre>HTTP/1.1 404 OK
{
  "error": [
    "Entity doesn't exist in Federation"
  ]
}
</pre></div><div id="rfc.figure.u.43"><p>Non-normative example of a federation leave fail response when passed any invalid id:</p><pre>HTTP/1.1 404 OK
{
  "error": [
    "Invalid Federation Id"
  ]
}
</pre></div></div><div id="link-federation-entity"><h3 id="rfc.section.3.7"><a href="#rfc.section.3.7">3.7</a> <a href="#link-federation-entity">Link entity to federation</a></h3><div id="rfc.section.3.7.p.1"><p>This is POST API endpoint for add services to this federation. It adds entity reference to federates of the Federation.</p></div><div id="rfc.section.3.7.p.2"><p>Their are two path request parameter. </p><dl><dt>Federation Id</dt><dd style="margin-left: 4.2em">The first path parameter is federation unique id.</dd><dt>Entity Id</dt><dd style="margin-left: 4.2em">The second path parameter is entity unique id.</dd></dl></div><div id="rfc.figure.u.44"><p>Non-normative example of a federation link to entity request:</p><pre>POST/otto/federations/5909b4218489131c19abfa29/entity/58f7218ca10d8e1012e76ed6 HTTP/1.1 </pre></div><div id="rfc.figure.u.45"><p>Non-normative example of a federation link to entity response:</p><pre>HTTP/1.1 200 OK </pre></div><div id="rfc.section.3.7.p.3"><p>It return response as per like <a href="#leave-federation" title="Leave Federation">Section 3.6</a> </p></div></div><div id="add-new-service"><h3 id="rfc.section.3.8"><a href="#rfc.section.3.8">3.8</a> <a href="#add-new-service">Add new service to federation</a></h3><div id="rfc.section.3.8.p.1"><p>This is POST API endpoint for add a new service into the federation. It will add new service(entity) to the federation and linked this newly added service(entity) to the Federation.</p></div><div id="rfc.section.3.8.p.2"><p>Their are two request parameter. </p><dl><dt>Federation Id</dt><dd style="margin-left: 4.2em">The first path parameter is federation unique id.</dd><dt>Entity</dt><dd style="margin-left: 4.2em">This is full requested body of entity. for possible parameter refer <a href="#create-entity" title="Create Entity">Section 5.1</a> </dd></dl></div><div id="rfc.figure.u.46"><p>Non-normative example of a federation request to add new service:</p><pre>POST /otto/federation/5909b4218489131c19abfa29 HTTP/1.1
{
	"name": "entity 1",
	"url": "http://otto-test.gluu.org/otto/entity",
	"registeredBy": "58f5da4957d53d2ffbbb31df",
	"description": "entity entity",
	"registeredBy": "58f5da4957d53d2ffbbb31df",
	"metadata": "58f5da4957d53d2ffbbb31e0"
}

                    </pre></div><div id="rfc.figure.u.47"><p>Non-normative example of a federation response from add new service:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@id": "http://otto-test.gluu.org/otto/federations/5909b4218489131c19abfa29"
}

                    </pre></div></div><div id="link-participant-member-federation"><h3 id="rfc.section.3.9"><a href="#rfc.section.3.9">3.9</a> <a href="#link-participant-member-federation">Link participant(member) to federation</a></h3><div id="rfc.section.3.9.p.1"><p>This is POST API endpoint for link participant as a member of the Federation. It adds participant reference to the member of the Federation.</p></div><div id="rfc.section.3.9.p.2"><p>Their are two request parameter. </p><dl><dt>Federation Id</dt><dd style="margin-left: 4.2em">The first path parameter is federation unique id.</dd><dt>Participant Id</dt><dd style="margin-left: 4.2em">The second path parameter is participant unique id.</dd></dl></div><div id="rfc.figure.u.48"><p>Non-normative example of a link participant to federation request:</p><pre>POST /otto/federations/5909b4218489131c19abfa29/participant/58f7218ca10d8e1012e76ed6 HTTP/1.1 </pre></div><div id="rfc.figure.u.49"><p>Non-normative example of a link participant to federation federation response:</p><pre>HTTP/1.1 200 OK </pre></div><div id="rfc.section.3.9.p.3"><p>It return response as per like <a href="#leave-federation" title="Leave Federation">Section 3.6</a> </p></div></div><div id="link-participant-sponsor-federation"><h3 id="rfc.section.3.10"><a href="#rfc.section.3.10">3.10</a> <a href="#link-participant-sponsor-federation">Link participant(sponsor) to federation</a></h3><div id="rfc.section.3.10.p.1"><p>This is POST API endpoint for link participant as a sponsor of the Federation. It adds the participant reference to the sponsor of the Federation.</p></div><div id="rfc.section.3.10.p.2"><p>Their are two request parameter. </p><dl><dt>Federation Id</dt><dd style="margin-left: 4.2em">The first path parameter is federation unique id.</dd><dt>Participant Id</dt><dd style="margin-left: 4.2em">The second path parameter is participant unique id.</dd></dl></div><div id="rfc.figure.u.50"><p>Non-normative example of a link participant as a sponsor of federation request:</p><pre>POST /otto/federations/5909b4218489131c19abfa29/sponsor/58f7218ca10d8e1012e76ed6 HTTP/1.1 </pre></div><div id="rfc.figure.u.51"><p>Non-normative example of a link participant as a sponsor of federation response:</p><pre>HTTP/1.1 200 OK </pre></div><div id="rfc.section.3.10.p.3"><p>It return response as per like <a href="#leave-federation" title="Leave Federation">Section 3.6</a> </p></div></div></div><hr class="noprint"><div id="participant-endpoint"><h2 id="rfc.section.4" class="np"><a href="#rfc.section.4">4.</a> <a href="#participant-endpoint">Participant Endpoint</a></h2><div id="rfc.section.4.p.1"><p>This endpoint, hosted by the Registration Authority, enables the registration and management of information about an organization so it can be associated with a Federation.</p></div><div id="create-participant"><h3 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1</a> <a href="#create-participant">Create Participant</a></h3><div id="rfc.section.4.1.p.1"><p>This is POST API endpoint to create participant. It needs to pass the required parameter to add the new participant. If you try to add participant with the same name which already exists then it returns response with error key with the message is "Participant already exist with the same name".</p></div><div id="rfc.figure.u.52"><p>Their are several properties which used for participant. <div id="rfc.section.4.1.p.1"><div id="rfc.table.2"><div id="table_participant"></div><table class="tt full tcenter" cellpadding="3" cellspacing="0"><caption>Table 2: Participant</caption><thead><tr><th class="left">Property</th><th class="left">Value</th><th class="left">Description</th></tr></thead><tbody><tr><td class="left"><strong>name</strong></td><td class="left"><strong>REQUIRED</strong></td><td class="left">A human friendly name for the Participant</td></tr><tr><td class="left">url</td><td class="left">OPTIONAL</td><td class="left">The public website for the Participant</td></tr><tr><td class="left">description</td><td class="left">OPTIONAL</td><td class="left">It is Optional information about the Participant</td></tr><tr><td class="left">memberOf</td><td class="left">OPTIONAL</td><td class="left">It is the Federation or array of Federation, A federation to which this Participant is a member</td></tr><tr><td class="left">operates</td><td class="left">OPTIONAL</td><td class="left">It is the entity, A service operated by the Participant</td></tr><tr><td class="left"><strong>registeredBy</strong></td><td class="left"><strong>REQUIRED</strong></td><td class="left">It is the registration authority, where the Participant is registered</td></tr><tr><td class="left">technicalContact</td><td class="left">OPTIONAL</td><td class="left">It is the Person or array of Person, Person(s) responsible for registering and maintaining the policies and technical data related to the Federation</td></tr><tr><td class="left">executiveContact</td><td class="left">OPTIONAL</td><td class="left">It is the Person or array of Person, Person responsible for all decisions and delegations of authority for the Participant</td></tr><tr><td class="left">securityContact</td><td class="left">OPTIONAL</td><td class="left">It is the Person or array of Person, Person(s) to contact in the event of an urgent security issue</td></tr><tr><td class="left">trustMarkAsserted</td><td class="left">OPTIONAL</td><td class="left">It is the instance or array of Trustmark or URL, Link to TrustMarks the Participant claims</td></tr><tr><td class="left">badgeSupported</td><td class="left">OPTIONAL</td><td class="left">It is the instance or array of BadgeClass or IRI, What Badges the Participant issues</td></tr></tbody></table></div></div> </p><p>Non-normative example of add a participant request</p><pre>POST /otto/entity HTTP/1.1
{
	"name": "participant1",
	"url": "http://otto-test.gluu.org/otto/participant",
	"registeredBy": "58f5da4957d53d2ffbbb31df",
	"description": "participant participant",
	"securityContact": [{"name":"Security Person1", "contactNo":"+485647556566"}],
	"executiveContact": [{"name":"Executive Person1", "contactNo":"+485647556566"}],
	"technicalContact": [{"name":"Technical Person1", "contactNo":"+485647556566"}]
}

                    </pre></div><div id="rfc.figure.u.53"><p>Non-normative example of add a participant response:</p><p>In response it return with "@id" key, This is Unique IRI for the newly added participant</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@id": "http://otto-test.gluu.org/otto/participant/5909b4218489131c19abfa29"
}

                    </pre></div></div><div id="fetch-participant"><h3 id="rfc.section.4.2"><a href="#rfc.section.4.2">4.2</a> <a href="#fetch-participant">Fetch Participant</a></h3><div id="rfc.figure.u.54"><p>Non-normative example of a get all participant request:</p><pre>GET /otto/participant HTTP/1.1 
                    </pre></div><div id="rfc.figure.u.55"><p>Non-normative example of a get all participant response:</p><p><dl><dt>participant</dt><dd style="margin-left: 4.2em">List of participant</dd><dt>itemsPerPage</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the number of query results returned in a query response page, e.g., 10.</dd><dt>totalResults</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the total number of results matching the client query, e.g., 1000.</dd><dt>startIndex</dt><dd style="margin-left: 4.2em">The 1-based index of the first result in the current set of query results, e.g., 1.</dd></dl> </p><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "participant": [
    "http://otto-test.gluu.org/otto/participant/58f720c7a10d8e1012e76ed4",
    "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5"
  ],
  "totalResults": 2,
  "itemsPerPage": 0,
  "startIndex": 1
}

                    </pre></div><div id="rfc.figure.u.56"><p>Non-normative example of a participant request with depth parameter:</p><pre>GET /otto/participant?depth=participant HTTP/1.1 </pre></div><div id="rfc.figure.u.57"><p>Non-normative example of a participant response from depth parameter. for participant response description see the <a href="#create-participant" title="Create Participant">Section 4.1</a></p><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "participant": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#participant",
      "@id": "http://otto-test.gluu.org/otto/participant/58f720c7a10d8e1012e76ed4",
      "name": "participant 2",
      "url": "http://otto-test.gluu.org/otto/participant",
      "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
      "description": "participant participant",
      "securityContact": [
        {
          "contactNo": "+485647556566",
          "name": "Security Person1"
        }
      ],
      "executiveContact": [
        {
          "contactNo": "+485647556566",
          "name": "Executive Person1"
        }
      ],
      "technicalContact": [
        {
          "contactNo": "+485647556566",
          "name": "Technical Person1"
        }
      ],
      "memberOf": [],
      "badgeSupported": [
        "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
      ],
      "operates": ""
    },
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#participant",
      "@id": "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5",
      "name": "participant 1",
      "url": "http://otto-test.gluu.org/otto/participant",
      "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
      "description": "participant participant",
      "securityContact": [
        {
          "contactNo": "+485647556566",
          "name": "Security Person1"
        }
      ],
      "executiveContact": [
        {
          "contactNo": "+485647556566",
          "name": "Executive Person1"
        }
      ],
      "technicalContact": [
        {
          "contactNo": "+485647556566",
          "name": "Technical Person1"
        }
      ],
      "memberOf": [
        "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
      ],
      "operates": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
      "badgeSupported": [
        "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
      ],
      "trustMarkAsserted": "http://pa.org"
    }
  ],
  "totalResults": 2,
  "itemsPerPage": 0,
  "startIndex": 1
}

                    </pre></div><div id="rfc.figure.u.58"><p>Non-normative example of a fetch specific participant information by passing participant unique id:</p><pre>GET /otto/participant/58f720e1a10d8e1012e76ed5 HTTP/1.1 </pre></div><div id="rfc.figure.u.59"><p>Non-normative example of a participant response from specific participant. for participant response description see the <a href="#create-participant" title="Create Participant">Section 4.1</a></p><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#participant",
  "@id": "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5",
  "name": "participant 1",
  "url": "http://otto-test.gluu.org/otto/participant",
  "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
  "description": "participant participant",
  "securityContact": [
    {
      "contactNo": "+485647556566",
      "name": "Security Person1"
    }
  ],
  "executiveContact": [
    {
      "contactNo": "+485647556566",
      "name": "Executive Person1"
    }
  ],
  "technicalContact": [
    {
      "contactNo": "+485647556566",
      "name": "Technical Person1"
    }
  ],
  "memberOf": [
    "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
  ],
  "operates": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
  "badgeSupported": [
    "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
  ],
  "trustMarkAsserted": "http://pa.org"
}

                    </pre></div><div id="rfc.figure.u.60"><p>Non-normative example of a participant request with specified id and depth parameter:</p><pre>GET /otto/participant/58f720e1a10d8e1012e76ed5?depth=memberOf HTTP/1.1 </pre></div><div id="rfc.figure.u.61"><p>Non-normative example of a participant response from with specified id and depth parameter:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#participant",
  "@id": "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5",
  "name": "participant 1",
  "url": "http://otto-test.gluu.org/otto/participant",
  "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
  "description": "participant participant",
  "securityContact": [
    {
      "contactNo": "+485647556566",
      "name": "Security Person1"
    }
  ],
  "executiveContact": [
    {
      "contactNo": "+485647556566",
      "name": "Executive Person1"
    }
  ],
  "technicalContact": [
    {
      "contactNo": "+485647556566",
      "name": "Technical Person1"
    }
  ],
  "memberOf": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#federation",
      "@id": "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c",
      "name": "fed1",
      "url": "http://otto-test.gluu.org/otto/federation",
      "registeredBy": {
        "@id": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df"
      },
      "description": "fedearation fedearation",
      "dataProtectionCodeOfConduct": "https://fd.org",
      "federationAgreement": "https://fd.org",
      "federationPolicy": "https://fd.org",
      "securityContact": [
        {
          "contactNo": "+485647556566",
          "name": "Security Person1"
        }
      ],
      "executiveContact": [
        {
          "contactNo": "+485647556566",
          "name": "Executive Person1"
        }
      ],
      "technicalContact": [
        {
          "contactNo": "+485647556566",
          "name": "Technical Person1"
        }
      ],
      "sponsor": [
        {
          "@id": "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5"
        }
      ],
      "federates": [
        {
          "@id": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6"
        }
      ],
      "member": [
        {
          "@id": "http://otto-test.gluu.org/otto/participant/58f720c7a10d8e1012e76ed4"
        }
      ],
      "trustMarkDefinitionSupported": [
        "https://fd.org"
      ],
      "badgeSupported": [
        {
          "@id": "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
        }
      ],
      "supports": [
        {
          "@id": "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
        }
      ],
      "metadata": [
        {
          "@id": "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0"
        }
      ]
    }
  ],
  "operates": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
  "badgeSupported": [
    "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
  ],
  "trustMarkAsserted": "http://pa.org"
}

                    </pre></div><div id="rfc.figure.u.62"><p>Non-normative example of a participant request with multiple depth parameter:</p><pre>GET /otto/participant/58f720e1a10d8e1012e76ed5?depth=memberOf,operates HTTP/1.1 </pre></div><div id="rfc.figure.u.63"><p>Non-normative example of a participant response from multiple depth parameter:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#participant",
  "@id": "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5",
  "name": "participant 1",
  "url": "http://otto-test.gluu.org/otto/participant",
  "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
  "description": "participant participant",
  "securityContact": [
    {
      "contactNo": "+485647556566",
      "name": "Security Person1"
    }
  ],
  "executiveContact": [
    {
      "contactNo": "+485647556566",
      "name": "Executive Person1"
    }
  ],
  "technicalContact": [
    {
      "contactNo": "+485647556566",
      "name": "Technical Person1"
    }
  ],
  "memberOf": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#federation",
      "@id": "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c",
      "name": "fed1",
      "url": "http://otto-test.gluu.org/otto/federation",
      "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
      "description": "fedearation fedearation",
      "dataProtectionCodeOfConduct": "https://fd.org",
      "federationAgreement": "https://fd.org",
      "federationPolicy": "https://fd.org",
      "securityContact": [
        {
          "contactNo": "+485647556566",
          "name": "Security Person1"
        }
      ],
      "executiveContact": [
        {
          "contactNo": "+485647556566",
          "name": "Executive Person1"
        }
      ],
      "technicalContact": [
        {
          "contactNo": "+485647556566",
          "name": "Technical Person1"
        }
      ],
      "sponsor": [
        "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5"
      ],
      "federates": [
        "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6"
      ],
      "member": [
        "http://otto-test.gluu.org/otto/participant/58f720c7a10d8e1012e76ed4"
      ],
      "trustMarkDefinitionSupported": [
        "https://fd.org"
      ],
      "badgeSupported": [
        "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
      ],
      "supports": [
        "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
      ],
      "metadata": [
        "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0"
      ]
    }
  ],
  "operates": {
    "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#entity",
    "@id": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
    "name": "entity 1",
    "url": "http://otto-test.gluu.org/otto/entity",
    "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
    "description": "entity entity",
    "metadata": "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0",
    "federatedBy": [
      "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
    ],
    "supports": []
  },
  "badgeSupported": [
    "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
  ],
  "trustMarkAsserted": "http://pa.org"
}

                    </pre></div><div id="rfc.figure.u.64"><p>Non-normative example of a participant request with filter parameter:</p><pre>GET /otto/participant/58f7200bcf5e0a0f09cf2c3c?filter=.name HTTP/1.1 </pre></div><div id="rfc.figure.u.65"><p>Non-normative example of a participant response from filter parameter:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "name": [
    "participant 1"
  ]
}

                    </pre></div><div id="rfc.figure.u.66"><p>Non-normative example of a participant request with multiple filter parameter:</p><pre>GET /otto/participant/58f720e1a10d8e1012e76ed5?filter=.name,.securityContact HTTP/1.1 </pre></div><div id="rfc.figure.u.67"><p>Non-normative example of a participant response from multiple filter parameter:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "name": [
    "participant 1"
  ],
  "securityContact": [
    {
      "contactNo": "+485647556566",
      "name": "Security Person1"
    }
  ]
}

                    </pre></div><div id="rfc.figure.u.68"><p>Non-normative example of a participant request using page no and page length parameter:</p><p><dl><dt>pageno</dt><dd style="margin-left: 4.2em">The 1-based index of the first query result. A value less than 1 SHALL be interpreted as 1.</dd><dt>pagelength</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the desired maximum number of query results per page, e.g., 10.</dd></dl> </p><pre>GET /otto/participant?pageno=1&amp;pagelength=5 HTTP/1.1 </pre></div><div id="rfc.figure.u.69"><p>Non-normative example of a participant response of page no and page length parameter:</p><p><dl><dt>participant</dt><dd style="margin-left: 4.2em">The list of participant array</dd><dt>itemsPerPage</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the number of query results returned in a query response page, e.g., 10.</dd><dt>totalResults</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the total number of results matching the client query, e.g., 1000.</dd><dt>startIndex</dt><dd style="margin-left: 4.2em">The 1-based index of the first result in the current set of query results, e.g., 1.</dd></dl> </p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "participant": [
    "http://otto-test.gluu.org/otto/participant/58f720c7a10d8e1012e76ed4",
    "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5",
    "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed6",
    "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed7",
    "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed8"
  ],
  "totalResults": 11,
  "itemsPerPage": 5,
  "startIndex": 1
}

                    </pre></div></div><div id="update-participant"><h3 id="rfc.section.4.3"><a href="#rfc.section.4.3">4.3</a> <a href="#update-participant">Update Participant</a></h3><div id="rfc.section.4.3.p.1"><p>This is PUT API endpoint to update the Participant. It needs to pass the value of the field which you want to update. It will update only those field which you passed into the parameter. The possible parameter you can passed for update, refer <a href="#create-participant" title="Create Participant">Section 4.1</a>.</p></div><div id="rfc.figure.u.70"><p>Non-normative example of a update participant request:</p><pre>PUT /otto/participant/5909b4218489131c19abfa29 HTTP/1.1
{
	"name": "participant1",
	"url": "http://otto-test.gluu.org/otto/participant",
	"registeredBy": "58f5da4957d53d2ffbbb31df",
	"description": "participant participant",
	"securityContact": [{"name":"Security Person1", "contactNo":"+485647556566"}],
	"executiveContact": [{"name":"Executive Person1", "contactNo":"+485647556566"}],
	"technicalContact": [{"name":"Technical Person1", "contactNo":"+485647556566"}]
}

                    </pre></div><div id="rfc.figure.u.71"><p>Non-normative example of a update participant response:</p><pre>HTTP/1.1 200 OK </pre></div></div><div id="patch-participant"><h3 id="rfc.section.4.4"><a href="#rfc.section.4.4">4.4</a> <a href="#patch-participant">Patch participant</a></h3><div id="rfc.section.4.4.p.1"><p>HTTP PATCH is an OPTIONAL server function that enables clients to update one or more attributes of a participant resource using a sequence of operations to "add", "remove", or "replace" values.</p></div><div id="rfc.section.4.4.p.2"><p>The body of an HTTP PATCH request MUST contain the attribute "op", whose value is an array of one or more PATCH operations. Each PATCH operation object MUST have exactly one "op" member, whose value indicates the operation to perform and MAY be one of "add", "remove", or "replace".</p></div><div id="rfc.section.4.4.p.3"><p>The "path" attribute value is a String containing an attribute path describing the target of the operation. The "path" attribute is OPTIONAL for "add" and "replace" and is REQUIRED for "remove" operations.</p></div><div id="add-patch-participant"><h4 id="rfc.section.4.4.1"><a href="#rfc.section.4.4.1">4.4.1</a> <a href="#add-patch-participant">Add Operation</a></h4><div id="rfc.section.4.4.1.p.1"><p>The "add" operation is used to add a new attribute value to an existing resource. refer <a href="#add-patch-federation" title="Add Operation">Section 3.4.1</a> for add patch operation description.</p></div><div id="rfc.figure.u.72"><p>The following example show how to link participant with federation:</p><pre>PATCH /otto/participant/5909b4218489131c19abfa29 HTTP/1.1
{
"op":"add",
"path":"memberOf",
"value":["5909b4218489131c19abfa29"]
}

                        </pre></div><div id="rfc.figure.u.73"><p>Non-normative example of add patch operation participant response. It returns response with status 200 when successfully patch the participant.</p><pre>HTTP/1.1 200 OK 
                        </pre></div><div id="rfc.figure.u.74"><p>Non-normative example of add patch operation without path property to participant request:</p><pre>PATCH /otto/participant/5909b4218489131c19abfa29 HTTP/1.1
{
"op":"add",
"value":{
 "memberOf": ["5909b4218489131c19abfa29"]
 }
}

                        </pre></div><div id="rfc.figure.u.75"><p>Non-normative example of add patch operation without path property to participant response. It returns response with status 200 when successfully patch the federation.</p><pre>HTTP/1.1 200 OK 
                        </pre></div></div><div id="replace-patch-participant"><h4 id="rfc.section.4.4.2"><a href="#rfc.section.4.4.2">4.4.2</a> <a href="#replace-patch-participant">Replace Operation</a></h4><div id="rfc.section.4.4.2.p.1"><p>The "replace" operation replaces the value at the target location specified by the "path". refer <a href="#replace-patch-federation" title="Replace Operation">Section 3.4.2</a> for detail replace patch description.</p></div><div id="rfc.figure.u.76"><p>Non-normative example of replace patch operation participant request:</p><pre>PATCH /otto/participant/5909b4218489131c19abfa29 HTTP/1.1
{
"op": "replace",
"path": "executiveContact",
"value": [{
      "contactNo": "+485647556566",
      "name": "Executive Person2"
  }]
}

                        </pre></div><div id="rfc.figure.u.77"><p>Non-normative example of replace patch operation participant response. It returns response with status 200 when successfully patch the participant.</p><pre>HTTP/1.1 200 OK </pre></div><div id="rfc.figure.u.78"><p>Non-normative example of add patch operation without path property participant request:</p><pre>PATCH /otto/participant/5909b4218489131c19abfa29 HTTP/1.1
{
"op":"replace",
"value":{
 "executiveContact": [
    {
      "contactNo": "+485647556566",
      "name": "Executive Person2"
    }
  ]
 }
}
</pre></div><div id="rfc.figure.u.79"><p>Non-normative example of replace patch operation without path property participant response. It returns response with status 200 when successfully patch the participant.</p><pre>HTTP/1.1 200 OK 
                        </pre></div></div><div id="remove-patch-participant"><h4 id="rfc.section.4.4.3"><a href="#rfc.section.4.4.3">4.4.3</a> <a href="#remove-patch-participant">Remove Operation</a></h4><div id="rfc.section.4.4.3.p.1"><p>The "remove" operation removes the value at the target location specified by the required attribute "path". Refer <a href="#remove-patch-federation" title="Remove Operation">Section 3.4.3</a> for detail description of remove patch.</p></div><div id="rfc.figure.u.80"><p>Non-normative example of remove patch operation participant request to remove specific federation:</p><pre>PATCH /otto/participant/5909b4218489131c19abfa29 HTTP/1.1
{
 "op":"remove",
 "path":"/memberOf/59414908e7748f4d19541f46"
}

                        </pre><p>Non-normative example of remove patch operation participant request:</p><pre>PATCH /otto/participant/5909b4218489131c19abfa29 HTTP/1.1
{
 "op": "remove",
 "path": "executiveContact"
}

                        </pre></div><div id="rfc.figure.u.81"><p>Non-normative example of remove patch operation participant response. It returns response with status 200 when successfully patch the participant.</p><pre>HTTP/1.1 200 OK 
                        </pre></div></div><div id="rfc.figure.u.82"><div id="rfc.section.4.4.p.1"><p>The following example shows how to passed multiple operation in patch.</p></div><p>Non-normative example of multiple patch operation participant request:</p><pre>PATCH /otto/participant/5909b4218489131c19abfa29 HTTP/1.1
[
 {
  "op": "remove",
  "path": "executiveContact"
 },
 {
  "op": "replace",
  "path": "name",
  "value": "abc"
 }
]

                    </pre></div><div id="rfc.figure.u.83"><p>Non-normative example of multiple patch operation participant response. It returns response with status 200 when successfully patch the participant.</p><pre>HTTP/1.1 200 OK 
                    </pre></div></div><div id="delete-participant"><h3 id="rfc.section.4.5"><a href="#rfc.section.4.5">4.5</a> <a href="#delete-participant">Delete Participant</a></h3><div id="rfc.figure.u.84"><p>Non-normative example of a delete participant request</p><pre>DELETE /otto/participant/5909b4218489131c19abfa29 HTTP/1.1 </pre></div><div id="rfc.figure.u.85"><p>Non-normative example of a delete participant response:</p><pre>HTTP/1.1 200 OK </pre></div></div><div id="link-participant-memberOf-federation"><h3 id="rfc.section.4.6"><a href="#rfc.section.4.6">4.6</a> <a href="#link-participant-memberOf-federation">Link participant(member) of federation</a></h3><div id="rfc.section.4.6.p.1"><p>This is POST API endpoint for link participant as a member of Federation. It added the federation reference to memberOf in the participant.</p></div><div id="rfc.section.4.6.p.2"><p>Their are two request parameter. </p><dl><dt>Participant Id</dt><dd style="margin-left: 4.2em">The first path parameter is participant unique id.</dd><dt>Federation Id</dt><dd style="margin-left: 4.2em">The second path parameter is federation unique id.</dd></dl></div><div id="rfc.figure.u.86"><p>Non-normative example of a participant request</p><pre>POST /otto/participant/5909b4218489131c19abfa29/federation/58f7218ca10d8e1012e76ed6 HTTP/1.1 </pre></div><div id="rfc.figure.u.87"><p>Non-normative example of a participant response:</p><pre>HTTP/1.1 200 OK </pre></div><div id="rfc.section.4.6.p.3"><p>It return response as per like <a href="#leave-federation" title="Leave Federation">Section 3.6</a> </p></div></div><div id="link-entity-service-participant"><h3 id="rfc.section.4.7"><a href="#rfc.section.4.7">4.7</a> <a href="#link-entity-service-participant">Link entity(service) to participant</a></h3><div id="rfc.section.4.7.p.1"><p>This is POST API endpoint for link entity as a service of the Participant. It is a service operated by the Participant.</p></div><div id="rfc.section.4.7.p.2"><p>Their are two request parameter. </p><dl><dt>Participant Id</dt><dd style="margin-left: 4.2em">The first path parameter is participant unique id.</dd><dt>Entity Id</dt><dd style="margin-left: 4.2em">The second path parameter is entity unique id.</dd></dl></div><div id="rfc.figure.u.88"><p>Non-normative example of a link entity to participant request:</p><pre>POST /otto/participant/5909b4218489131c19abfa29/entity/58f7218ca10d8e1012e76ed6 HTTP/1.1 </pre></div><div id="rfc.figure.u.89"><p>Non-normative example of a link entity to participant response:</p><pre>HTTP/1.1 200 OK </pre></div></div></div><hr class="noprint"><div id="entity-endpoint"><h2 id="rfc.section.5" class="np"><a href="#rfc.section.5">5.</a> <a href="#entity-endpoint">Entity Endpoint</a></h2><div id="rfc.section.5.p.1"><p>This endpoint, hosted by the Registration Authority, enables the registration and management of digital services at the federation.</p></div><div id="create-entity"><h3 id="rfc.section.5.1"><a href="#rfc.section.5.1">5.1</a> <a href="#create-entity">Create Entity</a></h3><div id="rfc.section.5.1.p.1"><p>This is POST API endpoint to create entity. It needs to pass the required parameter to add the new entity. If you try to add entity with same name which is already exist then it return response with error key with message is "entity already exist with same name".</p></div><div id="rfc.figure.u.90"><p>Their are several properties which used for entity. <div id="rfc.section.5.1.p.1"><div id="rfc.table.3"><div id="table_entity"></div><table class="tt full tcenter" cellpadding="3" cellspacing="0"><caption>Table 3: Entity</caption><thead><tr><th class="left">Property</th><th class="left">Value</th><th class="left">Description</th></tr></thead><tbody><tr><td class="left"><strong>name</strong></td><td class="left"><strong>REQUIRED</strong></td><td class="left">A human friendly name for the Entity</td></tr><tr><td class="left">operatedBy</td><td class="left">OPTIONAL</td><td class="left">It is the Federation or Participant, The organization that is responsible for this Entity</td></tr><tr><td class="left">url</td><td class="left">OPTIONAL</td><td class="left">The public, human readible website for the Entity</td></tr><tr><td class="left">description</td><td class="left">OPTIONAL</td><td class="left">It is Optional information about the Entity</td></tr><tr><td class="left"><strong>registeredBy</strong></td><td class="left"><strong>REQUIRED</strong></td><td class="left">The RA which registered this entity</td></tr><tr><td class="left">federatedBy</td><td class="left">OPTIONAL</td><td class="left">It is the Federation or array of Federation, The federation to which this entity is affiliated</td></tr><tr><td class="left">metadata</td><td class="left">OPTIONAL</td><td class="left">The metadata for this Entity</td></tr><tr><td class="left">category</td><td class="left">OPTIONAL</td><td class="left">It is the category, Used for assignment of standard Category defined in extension</td></tr><tr><td class="left">supports</td><td class="left">OPTIONAL</td><td class="left">It is the Schema or array of Schema, What schema is supported by this Entity</td></tr></tbody></table></div></div> </p><p>Non-normative example of add a entity request</p><pre>POST /otto/entity HTTP/1.1
{
	"name": "entity 1",
	"url": "http://otto-test.gluu.org/otto/entity",
	"registeredBy": "http://otto-test.gluu.org",
	"description": "entity entity",
	"registeredBy": "58f5da4957d53d2ffbbb31df",
	"metadata": "58f5da4957d53d2ffbbb31e0",
	"category": "https://docs.kantarainitiative.org/otto/openid-vocab-1.0#UserClaim"
}

                    </pre></div><div id="rfc.figure.u.91"><p>Non-normative example of add a entity response:</p><p>In response it return with "@id" key, It is Unique IRI for the newly added entity</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@id": "http://otto-test.gluu.org/otto/entity/5909b4218489131c19abfa29"
}

                    </pre></div></div><div id="fetch-entity"><h3 id="rfc.section.5.2"><a href="#rfc.section.5.2">5.2</a> <a href="#fetch-entity">Fetch Entity</a></h3><div id="rfc.figure.u.92"><p>Non-normative example of a get all entity request</p><pre>GET /otto/entity HTTP/1.1 </pre></div><div id="rfc.figure.u.93"><p>Non-normative example of a get all entity response:</p><p><dl><dt>entity</dt><dd style="margin-left: 4.2em">List of entity</dd><dt>itemsPerPage</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the number of query results returned in a query response page, e.g., 10.</dd><dt>totalResults</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the total number of results matching the client query, e.g., 1000.</dd><dt>startIndex</dt><dd style="margin-left: 4.2em">The 1-based index of the first result in the current set of query results, e.g., 1.</dd></dl> </p><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "entity": [
    "http://otto-test.gluu.org/otto/entity/58f720c7a10d8e1012e76ed4",
    "http://otto-test.gluu.org/otto/entity/58f720e1a10d8e1012e76ed5"
  ],
  "totalResults": 2,
  "itemsPerPage": 0,
  "startIndex": 1
}

                    </pre></div><div id="rfc.figure.u.94"><p>Non-normative example of a entity with depth parameter request</p><pre>GET /otto/entity?depth=entity HTTP/1.1 </pre></div><div id="rfc.figure.u.95"><p>Non-normative example of a entity response from depth parameter. for entity response description see the <a href="#create-entity" title="Create Entity">Section 5.1</a></p><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "@context": "http://otto-test.gluu.org/otto/entity",
  "entity": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#entity",
      "@id": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
      "name": "entity 1",
      "url": "http://otto-test.gluu.org/otto/entity",
      "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
      "description": "entity entity",
      "metadata": "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0",
      "federatedBy": [
        "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
      ],
      "supports": [
        "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
      ]
    }
  ],
  "totalResults": 1,
  "itemsPerPage": 0,
  "startIndex": 1
}

                    </pre></div><div id="rfc.figure.u.96"><p>Non-normative example of a fetch specific entity request by passing unique entity id:</p><pre>GET /otto/entity/58f720e1a10d8e1012e76ed5 HTTP/1.1 </pre></div><div id="rfc.figure.u.97"><p>Non-normative example of a entity response from specified entity unique id. for entity response description see the <a href="#create-entity" title="Create Entity">Section 5.1</a></p><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#entity",
  "@id": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
  "name": "entity 1",
  "url": "http://otto-test.gluu.org/otto/entity",
  "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
  "description": "entity entity",
  "metadata": "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0",
  "federatedBy": [
    "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
  ],
  "supports": [
    "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
  ]
}

                    </pre></div><div id="rfc.figure.u.98"><p>Non-normative example of a entity request with specified entity and depth parameter:</p><pre>GET /otto/entity/58f7218ca10d8e1012e76ed6?depth=registeredBy HTTP/1.1 </pre></div><div id="rfc.figure.u.99"><p>Non-normative example of a entity response from specified entity and depth parameter:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#entity",
  "@id": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
  "name": "entity 1",
  "url": "http://otto-test.gluu.org/otto/entity",
  "registeredBy": {
    "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#registration-authority",
    "@id": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
    "url": "http://otto-test.gluu.org",
    "description": "OTTO Registration Authority",
    "federation_endpoint": "http://otto-test.gluu.org/otto/federations",
    "participant_endpoint": "http://otto-test.gluu.org/otto/participant",
    "entity_endpoint": "http://otto-test.gluu.org/otto/entity",
    "name": "otto-test",
    "registers": []
  },
  "description": "entity entity",
  "metadata": "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0",
  "federatedBy": [
    "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
  ],
  "supports": [
    "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
  ]
}

                    </pre></div><div id="rfc.figure.u.100"><p>Non-normative example of a entity request with multiple depth parameter:</p><pre>GET /otto/entity/58f720e1a10d8e1012e76ed5?depth=depth=federatedBy,supports HTTP/1.1 </pre></div><div id="rfc.figure.u.101"><p>Non-normative example of a entity response from multiple depth parameter:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#entity",
  "@id": "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6",
  "name": "entity 1",
  "url": "http://otto-test.gluu.org/otto/entity",
  "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
  "description": "entity entity",
  "metadata": "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0",
  "federatedBy": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#federation",
      "@id": "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c",
      "name": "fed1",
      "url": "http://otto-test.gluu.org/otto/federation",
      "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
      "description": "fedearation fedearation",
      "dataProtectionCodeOfConduct": "https://fd.org",
      "federationAgreement": "https://fd.org",
      "federationPolicy": "https://fd.org",
      "securityContact": [
        {
          "contactNo": "+485647556566",
          "name": "Security Person1"
        }
      ],
      "executiveContact": [
        {
          "contactNo": "+485647556566",
          "name": "Executive Person1"
        }
      ],
      "technicalContact": [
        {
          "contactNo": "+485647556566",
          "name": "Technical Person1"
        }
      ],
      "sponsor": [
        "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5"
      ],
      "federates": [
        "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6"
      ],
      "member": [
        "http://otto-test.gluu.org/otto/participant/58f720c7a10d8e1012e76ed4"
      ],
      "trustMarkDefinitionSupported": [
        "https://fd.org"
      ],
      "badgeSupported": [
        "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
      ],
      "supports": [
        "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
      ],
      "metadata": [
        "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0"
      ]
    }
  ],
  "supports": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#schema",
      "@id": "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956",
      "name": "given_name",
      "category": "https://docs.kantarainitiative.org/otto/openid-vocab-1.0#UserClaim",
      "required": false,
      "url": "https://en.wikipedia.org/wiki/Given_name",
      "sameAs": "https://schema.org/givenName,https://erasmus.gluu.org/schema/457c",
      "supportedBy": [
        "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c",
        "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6"
      ]
    }
  ]
}

                    </pre></div><div id="rfc.figure.u.102"><p>Non-normative example of a entity request with filter parameter:</p><pre>GET /otto/entity/58f7218ca10d8e1012e76ed6?filter=.name HTTP/1.1 </pre></div><div id="rfc.figure.u.103"><p>Non-normative example of a entity response from filter parameter:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "name": [
    "entity 1"
  ]
}
</pre></div><div id="rfc.figure.u.104"><p>Non-normative example of a entity request with multiple filter parameter:</p><pre>GET /otto/entity/58f7218ca10d8e1012e76ed6?filter=.name,.supports HTTP/1.1 </pre></div><div id="rfc.figure.u.105"><p>Non-normative example of a federation response from multiple filter parameter:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "name": [
    "entity 1"
  ],
  "supports": [
    "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
  ]
}

                    </pre></div><div id="rfc.figure.u.106"><p>Non-normative example of a entity request using pageno and pagelength parameter:</p><p><dl><dt>pageno</dt><dd style="margin-left: 4.2em">The 1-based index of the first query result. A value less than 1 SHALL be interpreted as 1.</dd><dt>pagelength</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the desired maximum number of query results per page, e.g., 10.</dd></dl> </p><pre>GET /otto/entity?pageno=1&amp;pagelength=5 HTTP/1.1 
                    </pre></div><div id="rfc.figure.u.107"><p>Non-normative example of a entity response of page no and page length parameter:</p><p><dl><dt>entity</dt><dd style="margin-left: 4.2em">Contain list of entity array</dd><dt>itemsPerPage</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the number of query results returned in a query response page, e.g., 10.</dd><dt>totalResults</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the total number of results matching the client query, e.g., 1000.</dd><dt>startIndex</dt><dd style="margin-left: 4.2em">The 1-based index of the first result in the current set of query results, e.g., 1.</dd></dl> </p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "entity": [
    "http://otto-test.gluu.org/otto/entity/58f720c7a10d8e1012e76ed4",
    "http://otto-test.gluu.org/otto/entity/58f720e1a10d8e1012e76ed5",
    "http://otto-test.gluu.org/otto/entity/58f720e1a10d8e1012e76ed6",
    "http://otto-test.gluu.org/otto/entity/58f720e1a10d8e1012e76ed7",
    "http://otto-test.gluu.org/otto/entity/58f720e1a10d8e1012e76ed8"
  ],
  "totalResults": 11,
  "itemsPerPage": 5,
  "startIndex": 1
}
</pre></div></div><div id="update-entity"><h3 id="rfc.section.5.3"><a href="#rfc.section.5.3">5.3</a> <a href="#update-entity">Update entity</a></h3><div id="rfc.section.5.3.p.1"><p>This is PUT API endpoint to update the entity. It needs to pass the value of the field which you want to update. It will update only those field which you passed into the parameter. The possible parameter you can passed for update, refer <a href="#create-entity" title="Create Entity">Section 5.1</a>.</p></div><div id="rfc.figure.u.108"><p>Non-normative example of a update entity request</p><pre>PUT /otto/entity/5909b4218489131c19abfa29 HTTP/1.1
{
	"name": "entity 1",
	"url": "http://otto-test.gluu.org/otto/entity",
	"registeredBy": "http://otto-test.gluu.org",
	"description": "entity entity",
	"registeredBy": "58f5da4957d53d2ffbbb31df",
	"metadata": "58f5da4957d53d2ffbbb31e0",
	"category": "https://docs.kantarainitiative.org/otto/openid-vocab-1.0#UserClaim"
}

                    </pre></div><div id="rfc.figure.u.109"><p>Non-normative example of a update entity response:</p><pre>HTTP/1.1 200 OK 
                    </pre></div></div><div id="patch-entity"><h3 id="rfc.section.5.4"><a href="#rfc.section.5.4">5.4</a> <a href="#patch-entity">Patch Entity</a></h3><div id="rfc.section.5.4.p.1"><p>HTTP PATCH is an OPTIONAL server function that enables clients to update one or more attributes of a entity resource using a sequence of operations to "add", "remove", or "replace" values.</p></div><div id="rfc.section.5.4.p.2"><p>The body of an HTTP PATCH request MUST contain the attribute "op", whose value is an array of one or more PATCH operations. Each PATCH operation object MUST have exactly one "op" member, whose value indicates the operation to perform and MAY be one of "add", "remove", or "replace".</p></div><div id="rfc.figure.u.110"><p>The following example show how to add link entity with federation:</p><pre>PATCH /otto/entity/5909b4218489131c19abfa29 HTTP/1.1
{
"op":"add",
"path":"federatedBy",
"value":"5909b4218489131c19abfa29"
}

                    </pre></div><div id="rfc.section.5.4.p.3"><p>The "path" attribute value is a String containing an attribute path describing the target of the operation. The "path" attribute is OPTIONAL for "add" and "replace" and is REQUIRED for "remove" operations.</p></div><div id="add-patch-entity"><h4 id="rfc.section.5.4.1"><a href="#rfc.section.5.4.1">5.4.1</a> <a href="#add-patch-entity">Add Operation</a></h4><div id="rfc.section.5.4.1.p.1"><p>The "add" operation is used to add a new attribute value to an existing resource. Refer <a href="#add-patch-federation" title="Add Operation">Section 3.4.1</a> for detail description of patch add operation.</p></div><div id="rfc.figure.u.111"><p>The following example show how to add link entity with federation:</p><pre>PATCH /otto/entity/5909b4218489131c19abfa29 HTTP/1.1
{
"op":"add",
"path":"federatedBy",
"value":"5909b4218489131c19abfa29"
}

                        </pre></div><div id="rfc.figure.u.112"><p>Non-normative example of add patch operation entity response. It returns response with status 200 when successfully patch the entity.</p><pre>HTTP/1.1 200 OK 
                        </pre></div><div id="rfc.figure.u.113"><p>Non-normative example of add patch operation without path property to entity request:</p><pre>PATCH /otto/entity/5909b4218489131c19abfa29 HTTP/1.1
{
"op":"add",
"value":{
  "federatedBy": "5909b4218489131c19abfa29"
 }
}

                        </pre></div><div id="rfc.figure.u.114"><p>Non-normative example of add patch operation without path property to entity response. It returns response with status 200 when successfully patch the entity.</p><pre>HTTP/1.1 200 OK 
                        </pre></div></div><div id="replace-patch-entity"><h4 id="rfc.section.5.4.2"><a href="#rfc.section.5.4.2">5.4.2</a> <a href="#replace-patch-entity">Replace Operation</a></h4><div id="rfc.section.5.4.2.p.1"><p>The "replace" operation replaces the value at the target location specified by the "path". Refer <a href="#replace-patch-federation" title="Replace Operation">Section 3.4.2</a> for detail description of replace patch.</p></div><div id="rfc.figure.u.115"><p>The following example show how to replace operator of entity. It will replace old operator with new operator:</p><pre>PATCH /otto/entity/5909b4218489131c19abfa29 HTTP/1.1
{
"op":"replace",
"path": "operatedBy",
"value":"5909b4218489131c19abfa28"
}

                        </pre></div><div id="rfc.figure.u.116"><p>Non-normative example of replace patch operation entity response. It returns response with status 200 when successfully patch the entity.</p><pre>HTTP/1.1 200 OK 
                        </pre></div><div id="rfc.figure.u.117"><p>Non-normative example of add patch operation without path property entity request:</p><pre>PATCH /otto/entity/5909b4218489131c19abfa29 HTTP/1.1
{
"op":"replace",
"value":{
 "operatedBy": "5909b4218489131c19abfa28"
}

                        </pre></div><div id="rfc.figure.u.118"><p>Non-normative example of replace patch operation without path property entity response. It returns response with status 200 when successfully patch the entity.</p><pre>HTTP/1.1 200 OK 
                        </pre></div></div><div id="remove-patch-entity"><h4 id="rfc.section.5.4.3"><a href="#rfc.section.5.4.3">5.4.3</a> <a href="#remove-patch-entity">Remove Operation</a></h4><div id="rfc.section.5.4.3.p.1"><p>The "remove" operation removes the value at the target location specified by the required attribute "path". Refer <a href="#remove-patch-federation" title="Remove Operation">Section 3.4.3</a> for detail description of remove patch operation.</p></div><div id="rfc.figure.u.119"><p>Non-normative example of remove patch operation entity request to remove federation:</p><pre>PATCH /otto/entity/5909b4218489131c19abfa29 HTTP/1.1
{
"op":"remove",
"path":"/federatedBy/59414908e7748f4d19541f46"
}

                        </pre><p>Non-normative example of remove patch operation entity request:</p><pre>PATCH /otto/entity/5909b4218489131c19abfa29 HTTP/1.1
{
"op": "remove",
"path": "operatedBy"
}

                        </pre></div><div id="rfc.figure.u.120"><p>Non-normative example of remove patch operation entity response. It returns response with status 200 when successfully patch the entity.</p><pre>HTTP/1.1 200 OK 
                        </pre></div></div><div id="rfc.figure.u.121"><div id="rfc.section.5.4.p.1"><p>The following non-normative example shows how to passed multiple operation in patch.</p></div><p>Non-normative example of multiple patch operation entity request:</p><pre>PATCH /otto/entity/5909b4218489131c19abfa29 HTTP/1.1
[
 {
  "op": "remove",
  "path": "operatedBy"
 },
 {
  "op": "replace",
  "path": "name",
  "value": "abc"
 }
]

                    </pre></div><div id="rfc.figure.u.122"><p>Non-normative example of multiple patch operation entity response. It returns response with status 200 when successfully patch the entity.</p><pre>HTTP/1.1 200 OK 
                    </pre></div></div><div id="delete-entity"><h3 id="rfc.section.5.5"><a href="#rfc.section.5.5">5.5</a> <a href="#delete-entity">Delete Entity</a></h3><div id="rfc.section.5.5.p.1"><p>This is DELETE API to delete entity. It needs to pass the entity unique id for delete specific entity.</p></div><div id="rfc.figure.u.123"><p>Non-normative example of a entity request</p><pre>DELETE /otto/entity/5909b4218489131c19abfa29 HTTP/1.1 </pre></div><div id="rfc.figure.u.124"><p>Non-normative example of a entity response:</p><pre>HTTP/1.1 200 OK </pre></div></div><div id="link-entity-federation"><h3 id="rfc.section.5.6"><a href="#rfc.section.5.6">5.6</a> <a href="#link-entity-federation">Link entity with federation</a></h3><div id="rfc.section.5.6.p.1"><p>This is POST API for link entity to the federation. The federation to which this entity is affiliated.</p></div><div id="rfc.section.5.6.p.2"><p>Their are two request parameter. </p><dl><dt>Entity Id</dt><dd style="margin-left: 4.2em">first path parameter is entity unique id.</dd><dt>Federation Id</dt><dd style="margin-left: 4.2em">Second path parameter is Federation unique id.</dd></dl></div><div id="rfc.figure.u.125"><p>Non-normative example of a link entity with federation request:</p><pre>POST /otto/entity/5909b4218489131c19abfa29/federation/58f7218ca10d8e1012e76ed6 HTTP/1.1 </pre></div><div id="rfc.figure.u.126"><p>Non-normative example of a link entity with federation response:</p><pre>HTTP/1.1 200 OK </pre></div></div></div><hr class="noprint"><div id="metadata-endpoint"><h2 id="rfc.section.6" class="np"><a href="#rfc.section.6">6.</a> <a href="#metadata-endpoint">Metadata Endpoint</a></h2><div id="rfc.section.6.p.1"><p>This endpoint, hosted by the Registration Authority, enables the management of metadata of the federation.</p></div><div id="create-metadata"><h3 id="rfc.section.6.1"><a href="#rfc.section.6.1">6.1</a> <a href="#create-metadata">Create Metadata</a></h3><div id="rfc.section.6.1.p.1"><p>This is POST API endpoint to create metadata. It needs to pass the required parameter to add the new metadata.</p></div><div id="rfc.figure.u.127"><p>Their are several properties which used for metadata. <div id="rfc.section.6.1.p.1"><div id="rfc.table.4"><div id="table_metadata"></div><table class="tt full tcenter" cellpadding="3" cellspacing="0"><caption>Table 4: Metadata</caption><thead><tr><th class="left">Property</th><th class="left">Value</th><th class="left">Description</th></tr></thead><tbody><tr><td class="left"><strong>category</strong></td><td class="left"><strong>REQUIRED</strong></td><td class="left">It is the Category. Enables extensions to define standard categories for searching</td></tr><tr><td class="left">metadataFormat</td><td class="left">OPTIONAL</td><td class="left">The serialization type of the metadata</td></tr><tr><td class="left">expiration</td><td class="left">OPTIONAL</td><td class="left">The date at which this metadata is no longer valid</td></tr></tbody></table></div></div> </p><p>Non-normative example of add a metadata request</p><pre>POST /otto/entity HTTP/1.1
{
	"name": "BASIC",
	"descrption": "BASIC............",
	"category": "http://otto-test.gluu.org/schema_category/scope.jsonld"
}

                    </pre></div><div id="rfc.figure.u.128"><p>Non-normative example of add a metadata response:</p><p>In response it return with "@id" key, It is Unique IRI for the newly added metadata</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@id": "http://otto-test.gluu.org/otto/metadata/5909b4218489131c19abfa29"
}

                    </pre></div></div><div id="fetch-metadata"><h3 id="rfc.section.6.2"><a href="#rfc.section.6.2">6.2</a> <a href="#fetch-metadata">Fetch Metadata</a></h3><div id="rfc.figure.u.129"><p>Non-normative example of a get all metadata request</p><pre>GET /otto/metadata HTTP/1.1 </pre></div><div id="rfc.figure.u.130"><p>Non-normative example of a get all metadata response:</p><p><dl><dt>metadata</dt><dd style="margin-left: 4.2em">List of metadata</dd><dt>itemsPerPage</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the number of query results returned in a query response page, e.g., 10.</dd><dt>totalResults</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the total number of results matching the client query, e.g., 1000.</dd><dt>startIndex</dt><dd style="margin-left: 4.2em">The 1-based index of the first result in the current set of query results, e.g., 1.</dd></dl> </p><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "metadata": [
    "http://otto-test.gluu.org/otto/metadata/58f720c7a10d8e1012e76ed4",
    "http://otto-test.gluu.org/otto/metadata/58f720e1a10d8e1012e76ed5"
  ],
  "totalResults": 2,
  "itemsPerPage": 0,
  "startIndex": 1
}

                    </pre></div><div id="rfc.figure.u.131"><p>Non-normative example of a metadata request with depth parameter:</p><pre>GET /otto/metadata?depth=metadata HTTP/1.1 </pre></div><div id="rfc.figure.u.132"><p>Non-normative example of a metadata response from depth parameter:</p><p><dl><dt>metadata</dt><dd style="margin-left: 4.2em">List of metadata</dd><dt>itemsPerPage</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the number of query results returned in a query response page, e.g., 10.</dd><dt>totalResults</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the total number of results matching the client query, e.g., 1000.</dd><dt>startIndex</dt><dd style="margin-left: 4.2em">The 1-based index of the first result in the current set of query results, e.g., 1.</dd></dl> </p><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "metadata": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#metadata",
      "@id": "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0",
      "metadataFormat": "Metadata Format",
      "expiration": "2017-04-18T09:20:09.138Z"
    }
  ],
  "totalResults": 2,
  "itemsPerPage": 0,
  "startIndex": 1
}

                    </pre></div><div id="rfc.figure.u.133"><p>Non-normative example of a metadata request to fetch specific metadata:</p><pre>GET /otto/metadata/58f720e1a10d8e1012e76ed5 HTTP/1.1 </pre></div><div id="rfc.figure.u.134"><p>Non-normative example of a metadata response from specified metadata:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#metadata",
  "@id": "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0",
  "metadataFormat": "Metadata Format",
  "expiration": "2017-04-18T09:20:09.138Z"
}

                    </pre></div><div id="rfc.figure.u.135"><p>Non-normative example of a metadata request with filter parameter:</p><pre>GET /otto/metadata/58f5da4957d53d2ffbbb31e0?filter=.metadataFormat HTTP/1.1 
                    </pre></div><div id="rfc.figure.u.136"><p>Non-normative example of a metadata response from filter parameter:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "metadataFormat": [
    "Metadata Format"
  ]
}

                    </pre></div><div id="rfc.figure.u.137"><p>Non-normative example of a metadata request using pageno and pagelength parameter:</p><p><dl><dt>pageno</dt><dd style="margin-left: 4.2em">The 1-based index of the first query result. A value less than 1 SHALL be interpreted as 1.</dd><dt>pagelength</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the desired maximum number of query results per page, e.g., 10.</dd></dl> </p><pre>GET /otto/metadata?pageno=1&amp;pagelength=5 HTTP/1.1 </pre></div><div id="rfc.figure.u.138"><p>Non-normative example of a metadata response of page no and page length parameter:</p><p><dl><dt>entity</dt><dd style="margin-left: 4.2em">Contain list of metadata array</dd><dt>itemsPerPage</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the number of query results returned in a query response page, e.g., 10.</dd><dt>totalResults</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the total number of results matching the client query, e.g., 1000.</dd><dt>startIndex</dt><dd style="margin-left: 4.2em">The 1-based index of the first result in the current set of query results, e.g., 1.</dd></dl> </p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "metadata": [
    "http://otto-test.gluu.org/otto/metadata/58f720c7a10d8e1012e76ed4",
    "http://otto-test.gluu.org/otto/metadata/58f720e1a10d8e1012e76ed5",
    "http://otto-test.gluu.org/otto/metadata/58f720e1a10d8e1012e76ed6",
    "http://otto-test.gluu.org/otto/metadata/58f720e1a10d8e1012e76ed7",
    "http://otto-test.gluu.org/otto/metadata/58f720e1a10d8e1012e76ed8"
  ],
  "totalResults": 11,
  "itemsPerPage": 5,
  "startIndex": 1
}

                    </pre></div></div><div id="update-metadata"><h3 id="rfc.section.6.3"><a href="#rfc.section.6.3">6.3</a> <a href="#update-metadata">Update Metadata</a></h3><div id="rfc.section.6.3.p.1"><p>This is PUT API endpoint to update metadata. It needs to pass the value of the field which you want to update. It will update only those field which you passed into the parameter. The possible parameter need to pass for update, refer <a href="#create-metadata" title="Create Metadata">Section 6.1</a>.</p></div><div id="rfc.figure.u.139"><p>Non-normative example of a metadata update request:</p><pre>PUT /otto/metadata/5909b4218489131c19abfa29 HTTP/1.1

{
	"metadataFormat": "metadata format ....",
	"expiration": "10/10/2017"
}

                    </pre></div><div id="rfc.figure.u.140"><p>Non-normative example of a metadata update response:</p><pre>HTTP/1.1 200 OK </pre></div></div><div id="delete-metadata"><h3 id="rfc.section.6.4"><a href="#rfc.section.6.4">6.4</a> <a href="#delete-metadata">Delete Metadata</a></h3><div id="rfc.section.6.4.p.1"><p>This is DELETE API endpoint to delete metadata. It needs to pass the unique id of metadata.</p></div><div id="rfc.figure.u.141"><p>Non-normative example of a metadata request:</p><pre>DELETE /otto/metadata/5909b4218489131c19abfa29 HTTP/1.1 </pre></div><div id="rfc.figure.u.142"><p>Non-normative example of a metadata response:</p><pre>HTTP/1.1 200 OK </pre></div></div></div><hr class="noprint"><div id="schema-endpoint"><h2 id="rfc.section.7" class="np"><a href="#rfc.section.7">7.</a> <a href="#schema-endpoint">Schema Endpoint</a></h2><div id="rfc.section.7.p.1"><p>This endpoint, hosted by the Registration Authority, enables the management of schema supported by federation.</p></div><div id="create-schema"><h3 id="rfc.section.7.1"><a href="#rfc.section.7.1">7.1</a> <a href="#create-schema">Create schema</a></h3><div id="rfc.section.7.1.p.1"><p>This is POST API to create schema. It needs to pass the required parameter to add the new schema.</p></div><div id="rfc.figure.u.143"><p>Their are several properties which used for schema. <div id="rfc.section.7.1.p.1"><div id="rfc.table.5"><div id="table_schema"></div><table class="tt full tcenter" cellpadding="3" cellspacing="0"><caption>Table 5: Schema</caption><thead><tr><th class="left">Property</th><th class="left">Value</th><th class="left">Description</th></tr></thead><tbody><tr><td class="left"><strong>name</strong></td><td class="left"><strong>REQUIRED</strong></td><td class="left">Identifier for this schema item</td></tr><tr><td class="left"><strong>category</strong></td><td class="left"><strong>REQUIRED</strong></td><td class="left">The Extensions defined in extensions like "attribute" or "scope"</td></tr><tr><td class="left">description</td><td class="left">OPTIONAL</td><td class="left">The Human understandable explanation of this term.</td></tr><tr><td class="left"><strong>required</strong></td><td class="left"><strong>REQUIRED</strong></td><td class="left">Whether this schema element is required</td></tr><tr><td class="left">url</td><td class="left">URL</td><td class="left">The URL with more information about this schema</td></tr><tr><td class="left">supportedBy</td><td class="left">OPTIONAL</td><td class="left">It is the instance or array of Federation or Entity. Which federations support this schema</td></tr><tr><td class="left">sameAs</td><td class="left">OPTIONAL</td><td class="left">It is the URL or array of URL. Link to another similiar schema class</td></tr></tbody></table></div></div> </p><p>Non-normative example of add a schema request</p><pre>POST /otto/schema HTTP/1.1
{
   "name":"given_name",
   "category":"https://docs.kantarainitiative.org/otto/openid-vocab-1.0#UserClaim",
   "description":"Person's first name",
   "required":false,
   "url":"https://en.wikipedia.org/wiki/Given_name",
   "sameAs":[
      "https://schema.org/givenName",
      "https://erasmus.gluu.org/schema/457c"
   ]
}

                    </pre></div><div id="rfc.figure.u.144"><p>Non-normative example of add a schema response:</p><p>In response it return with "@id" key, It is Unique IRI for the newly added schema</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@id": "http://otto-test.gluu.org/otto/schema/5909b4218489131c19abfa29"
}

                    </pre></div></div><div id="fetch-schema"><h3 id="rfc.section.7.2"><a href="#rfc.section.7.2">7.2</a> <a href="#fetch-schema">Fetch Schema</a></h3><div id="rfc.figure.u.145"><p>Non-normative example of a get all schema request</p><pre>GET /otto/schema HTTP/1.1 </pre></div><div id="rfc.figure.u.146"><p>Non-normative example of a get all schema response:</p><p><dl><dt>schema</dt><dd style="margin-left: 4.2em">List of schema</dd><dt>itemsPerPage</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the number of query results returned in a query response page, e.g., 10.</dd><dt>totalResults</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the total number of results matching the client query, e.g., 1000.</dd><dt>startIndex</dt><dd style="margin-left: 4.2em">The 1-based index of the first result in the current set of query results, e.g., 1.</dd></dl> </p><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "schema": [
    "http://otto-test.gluu.org/otto/schema/58f720c7a10d8e1012e76ed4",
    "http://otto-test.gluu.org/otto/schema/58f720e1a10d8e1012e76ed5"
  ],
  "totalResults": 2,
  "itemsPerPage": 0,
  "startIndex": 1
}

                    </pre></div><div id="rfc.figure.u.147"><p>Non-normative example of a schema request with depth parameter:</p><pre>GET /otto/schema?depth=schema HTTP/1.1 </pre></div><div id="rfc.figure.u.148"><p>Non-normative example of a federation response from depth parameter:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "@context": "http://otto-test.gluu.org/otto/schema",
  "schema": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#schema",
      "@id": "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956",
      "name": "given_name",
      "category": "https://docs.kantarainitiative.org/otto/openid-vocab-1.0#UserClaim",
      "required": false,
      "url": "https://en.wikipedia.org/wiki/Given_name",
      "sameAs": "https://schema.org/givenName,https://erasmus.gluu.org/schema/457c",
      "supportedBy": [
        "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
      ]
    }
  ],
  "totalResults": 1,
  "itemsPerPage": 0,
  "startIndex": 1
}

                    </pre></div><div id="rfc.figure.u.149"><p>Non-normative example of a schema request to fetch specific schema unique Id:</p><pre>GET /otto/schema/58f720e1a10d8e1012e76ed5 HTTP/1.1 </pre></div><div id="rfc.figure.u.150"><p>Non-normative example of a schema response from specified schema unique Id:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#schema",
  "@id": "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956",
  "name": "given_name",
  "category": "https://docs.kantarainitiative.org/otto/openid-vocab-1.0#UserClaim",
  "required": false,
  "url": "https://en.wikipedia.org/wiki/Given_name",
  "sameAs": "https://schema.org/givenName,https://erasmus.gluu.org/schema/457c",
  "supportedBy": [
    "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c"
  ]
}

                    </pre></div><div id="rfc.figure.u.151"><p>Non-normative example of a schema request with specified schema and depth parameter:</p><pre>GET /otto/schema/590afffd30dd080ed3cda956?depth=supportedBy HTTP/1.1 </pre></div><div id="rfc.figure.u.152"><p>Non-normative example of a schema response from specified schema and depth parameter:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#schema",
  "@id": "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956",
  "name": "given_name",
  "category": "https://docs.kantarainitiative.org/otto/openid-vocab-1.0#UserClaim",
  "required": false,
  "url": "https://en.wikipedia.org/wiki/Given_name",
  "sameAs": "https://schema.org/givenName,https://erasmus.gluu.org/schema/457c",
  "supportedBy": [
    {
      "@context": "https://rawgit.com/KantaraInitiative/wg-otto/master/html/otto-vocab-1.0.html#federation",
      "@id": "http://otto-test.gluu.org/otto/federations/58f7200bcf5e0a0f09cf2c3c",
      "name": "fed1",
      "url": "http://otto-test.gluu.org/otto/federation",
      "registeredBy": "http://otto-test.gluu.org/otto/registrationAuthority/58f5da4957d53d2ffbbb31df",
      "description": "fedearation fedearation",
      "dataProtectionCodeOfConduct": "https://fd.org",
      "federationAgreement": "https://fd.org",
      "federationPolicy": "https://fd.org",
      "securityContact": [
        {
          "contactNo": "+485647556566",
          "name": "Security Person1"
        }
      ],
      "executiveContact": [
        {
          "contactNo": "+485647556566",
          "name": "Executive Person1"
        }
      ],
      "technicalContact": [
        {
          "contactNo": "+485647556566",
          "name": "Technical Person1"
        }
      ],
      "sponsor": [
        "http://otto-test.gluu.org/otto/participant/58f720e1a10d8e1012e76ed5"
      ],
      "federates": [
        "http://otto-test.gluu.org/otto/entity/58f7218ca10d8e1012e76ed6"
      ],
      "member": [
        "http://otto-test.gluu.org/otto/participant/58f720c7a10d8e1012e76ed4"
      ],
      "trustMarkDefinitionSupported": [
        "https://fd.org"
      ],
      "badgeSupported": [
        "http://otto-test.gluu.org/otto/badge/58fdfa39a6a02d203267da37"
      ],
      "supports": [
        "http://otto-test.gluu.org/otto/schema/590afffd30dd080ed3cda956"
      ],
      "metadata": [
        "http://otto-test.gluu.org/otto/metadata/58f5da4957d53d2ffbbb31e0"
      ]
    }
  ]
}

                    </pre></div><div id="rfc.figure.u.153"><p>Non-normative example of a schema request with filter parameter:</p><pre>GET /otto/schema/58f5da4957d53d2ffbbb31e0?filter=.name HTTP/1.1 </pre></div><div id="rfc.figure.u.154"><p>Non-normative example of a schema response from filter parameter:</p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "name": [
    "given_name"
  ]
}

                    </pre></div><div id="rfc.figure.u.155"><p>Non-normative example of a schema request using page no and page length parameter:</p><p><dl><dt>pageno</dt><dd style="margin-left: 4.2em">The 1-based index of the first query result. A value less than 1 SHALL be interpreted as 1.</dd><dt>pagelength</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the desired maximum number of query results per page, e.g., 10.</dd></dl> </p><pre>GET /otto/metadata?pageno=1&amp;pagelength=5 HTTP/1.1 </pre></div><div id="rfc.figure.u.156"><p>Non-normative example of a metadata response of page no and page length parameter:</p><p><dl><dt>schema</dt><dd style="margin-left: 4.2em">Contain list of schema array</dd><dt>itemsPerPage</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the number of query results returned in a query response page, e.g., 10.</dd><dt>totalResults</dt><dd style="margin-left: 4.2em">Non-negative integer. Specifies the total number of results matching the client query, e.g., 1000.</dd><dt>startIndex</dt><dd style="margin-left: 4.2em">The 1-based index of the first result in the current set of query results, e.g., 1.</dd></dl> </p><pre>HTTP/1.1 200 OK
Content-Type: application/json
{
  "schema": [
    "http://otto-test.gluu.org/otto/schema/58f720c7a10d8e1012e76ed4",
    "http://otto-test.gluu.org/otto/schema/58f720e1a10d8e1012e76ed5",
    "http://otto-test.gluu.org/otto/schema/58f720e1a10d8e1012e76ed6",
    "http://otto-test.gluu.org/otto/schema/58f720e1a10d8e1012e76ed7",
    "http://otto-test.gluu.org/otto/schema/58f720e1a10d8e1012e76ed8"
  ],
  "totalResults": 11,
  "itemsPerPage": 5,
  "startIndex": 1
}

                    </pre></div></div><div id="update-schema"><h3 id="rfc.section.7.3"><a href="#rfc.section.7.3">7.3</a> <a href="#update-schema">Update Schema</a></h3><div id="rfc.section.7.3.p.1"><p>This is PUT API endpoint to update the schema. It needs to pass the value of the field which you want to update. It will update only those field which you passed into parameter. The possible parameter you can passed for update, refer <a href="#create-schema" title="Create schema">Section 7.1</a> </p></div><div id="rfc.figure.u.157"><p>Non-normative example of a schema update request</p><pre>PUT /otto/schema/5909b4218489131c19abfa29 HTTP/1.1
{
   "name":"given_name",
   "category":"https://docs.kantarainitiative.org/otto/openid-vocab-1.0#UserClaim",
   "description":"Person's first name",
   "required":false,
   "url":"https://en.wikipedia.org/wiki/Given_name",
   "sameAs":[
      "https://schema.org/givenName",
      "https://erasmus.gluu.org/schema/457c"
   ]
}

                    </pre></div><div id="rfc.figure.u.158"><p>Non-normative example of a schema update response:</p><pre>HTTP/1.1 200 OK </pre></div></div><div id="delete-schema"><h3 id="rfc.section.7.4"><a href="#rfc.section.7.4">7.4</a> <a href="#delete-schema">Delete Schema</a></h3><div id="rfc.section.7.4.p.1"><p>This is DELETE API to delete schema. you need to pass schema unique id for delete specific schema.</p></div><div id="rfc.figure.u.159"><p>Non-normative example of a delete schema request</p><pre>DELETE /otto/schema/5909b4218489131c19abfa29 HTTP/1.1 </pre></div><div id="rfc.figure.u.160"><p>Non-normative example of a delete schema response:</p><pre>HTTP/1.1 200 OK </pre></div></div><div id="link-schema-federation"><h3 id="rfc.section.7.5"><a href="#rfc.section.7.5">7.5</a> <a href="#link-schema-federation">Link schema with federation</a></h3><div id="rfc.section.7.5.p.1"><p>This is POST API endpoint for link schema to the Federation. It shows which federations support this schema.</p></div><div id="rfc.section.7.5.p.2"><p>Their are two request parameter. </p><dl><dt>Schema Id</dt><dd style="margin-left: 4.2em">first path parameter is schema unique id.</dd><dt>Federation Id</dt><dd style="margin-left: 4.2em">Second path parameter is Federation unique id.</dd></dl></div><div id="rfc.figure.u.161"><p>Non-normative example of a schema request to link with federation:</p><pre>POST /otto/schema/5909b4218489131c19abfa29/federation/58f7218ca10d8e1012e76ed6 HTTP/1.1 </pre></div><div id="rfc.figure.u.162"><p>Non-normative example of a schema response to link with federation:</p><pre>HTTP/1.1 200 OK </pre></div></div><div id="link-schema-entity"><h3 id="rfc.section.7.6"><a href="#rfc.section.7.6">7.6</a> <a href="#link-schema-entity">Link schema with entity</a></h3><div id="rfc.section.7.6.p.1"><p>This is POST API endpoint for link schema to the Entity. It show which entity support this schema.</p></div><div id="rfc.section.7.6.p.2"><p>Their are two request parameter. </p><dl><dt>Schema Id</dt><dd style="margin-left: 4.2em">first path parameter is schema unique id.</dd><dt>Entity Id</dt><dd style="margin-left: 4.2em">Second path parameter is entity unique id.</dd></dl></div><div id="rfc.figure.u.163"><p>Non-normative example of a schema request to link with entity:</p><pre>POST /otto/schema/5909b4218489131c19abfa29/entity/58f7218ca10d8e1012e76ed6 HTTP/1.1 </pre></div><div id="rfc.figure.u.164"><p>Non-normative example of a schema response to link with entity:</p><pre>HTTP/1.1 200 OK </pre></div></div><div id="schema-category"><h3 id="rfc.section.7.7"><a href="#rfc.section.7.7">7.7</a> <a href="#schema-category">Schema Categories</a></h3><div id="rfc.section.7.7.p.1"><p>Fetch categories.</p></div><div id="rfc.figure.u.165"><p>Non-normative example of a fetch categories request</p><pre>POST /otto/schema/categories HTTP/1.1 </pre></div><div id="rfc.figure.u.166"><p>Non-normative example of a fetch categories response:</p><pre>HTTP/1.1 200 OK
[
  "http://otto-test.gluu.org/schema_category/acr.jsonld",
  "http://otto-test.gluu.org/schema_category/scope.jsonld",
  "http://otto-test.gluu.org/schema_category/userclaim.jsonld"
]

                    </pre></div></div></div><hr class="noprint"><div id="Acknowledgments"><h2 id="rfc.section.8" class="np"><a href="#rfc.section.8">8.</a> <a href="#Acknowledgments">Acknowledgments</a></h2><div id="rfc.section.8.p.1"><p>The following people made contributions to the development of this specification: </p><ul><li>Judith Bush</li><li>Steve Carmody</li><li>Peter Davis</li><li>Keith Hazelton</li><li>Roland Hedberg</li><li>Rainer H??rbe</li><li>Leif Johansson</li><li>Alan Karp</li><li>Nate Klingenstein</li><li>Ken Klingenstein</li><li>Eve Maler</li><li>Nicholas Roy</li><li>Rhys Smith</li><li>David Walker</li><li>Colin Wallis</li><li>Jim Willeke</li><li>Ian Young</li></ul></div><div id="rfc.section.8.p.2"><p>Additional contributors to this specification include the Kantara OTTO Work Group participants, a list of whom can be found at<a href="#OttoWgParticipants"><cite title="OTTO Participant Roster">[OttoWgParticipants]</cite></a>.</p></div></div><hr class="noprint"><h2 id="rfc.references" class="np"><a id="rfc.section.9" href="#rfc.section.9">9.</a> References</h2><h3 class="np" id="rfc.references.1"><a href="#rfc.section.9.1" id="rfc.section.9.1">9.1</a> Normative References</h3><table><tr><td class="reference"><b id="BCP195">[BCP195]</b></td><td class="top">Sheffer, Y., “<a href="https://tools.ietf.org/html/bcp195">Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)</a>”, May 2015, &lt;<a href="https://tools.ietf.org/html/bcp195">https://tools.ietf.org/html/bcp195</a>&gt;.</td></tr><tr><td class="reference"><b id="RFC2119">[RFC2119]</b></td><td class="top">Bradner, S., “<a href="http://www.rfc-editor.org/info/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>”, BCP 14, RFC 2119, <a href="http://dx.doi.org/10.17487/RFC2119">DOI 10.17487/RFC2119</a>, March 1997, &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.</td></tr><tr><td class="reference"><b id="RFC3986">[RFC3986]</b></td><td class="top">Berners-Lee, T., Fielding, R., and L. Masinter, “<a href="http://www.rfc-editor.org/info/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>”, STD 66, RFC 3986, <a href="http://dx.doi.org/10.17487/RFC3986">DOI 10.17487/RFC3986</a>, January 2005, &lt;<a href="http://www.rfc-editor.org/info/rfc3986">http://www.rfc-editor.org/info/rfc3986</a>&gt;.</td></tr><tr><td class="reference"><b id="RFC5785">[RFC5785]</b></td><td class="top">Nottingham, M. and E. Hammer-Lahav, “<a href="http://www.rfc-editor.org/info/rfc5785">Defining Well-Known Uniform Resource Identifiers (URIs)</a>”, RFC 5785, <a href="http://dx.doi.org/10.17487/RFC5785">DOI 10.17487/RFC5785</a>, April 2010, &lt;<a href="http://www.rfc-editor.org/info/rfc5785">http://www.rfc-editor.org/info/rfc5785</a>&gt;.</td></tr><tr><td class="reference"><b id="RFC6749">[RFC6749]</b></td><td class="top">Hardt, D., Ed., “<a href="http://www.rfc-editor.org/info/rfc6749">The OAuth 2.0 Authorization Framework</a>”, RFC 6749, <a href="http://dx.doi.org/10.17487/RFC6749">DOI 10.17487/RFC6749</a>, October 2012, &lt;<a href="http://www.rfc-editor.org/info/rfc6749">http://www.rfc-editor.org/info/rfc6749</a>&gt;.</td></tr><tr><td class="reference"><b id="RFC7159">[RFC7159]</b></td><td class="top">Bray, T., Ed., “<a href="http://www.rfc-editor.org/info/rfc7159">The JavaScript Object Notation (JSON) Data Interchange Format</a>”, RFC 7159, <a href="http://dx.doi.org/10.17487/RFC7159">DOI 10.17487/RFC7159</a>, March 2014, &lt;<a href="http://www.rfc-editor.org/info/rfc7159">http://www.rfc-editor.org/info/rfc7159</a>&gt;.</td></tr></table><h3 id="rfc.references.2"><a href="#rfc.section.9.2" id="rfc.section.9.2">9.2</a> Informative References</h3><table><tr><td class="reference"><b id="OttoWgParticipants">[OttoWgParticipants]</b></td><td class="top">Schwartz, M., “<a href="http://kantarainitiative.org/confluence/display/OTTO/Participant+roster">OTTO Participant Roster</a>”, 2016, &lt;<a href="http://kantarainitiative.org/confluence/display/OTTO/Participant+roster">http://kantarainitiative.org/confluence/display/OTTO/Participant+roster</a>&gt;.</td></tr></table><hr class="noprint"><div class="avoidbreakinside"><h2 id="rfc.authors" class="np"><a href="#rfc.authors">Authors' Addresses</a></h2><p><b>Michael Schwartz</b>
      (editor)
    <br>Gluu<br>EMail: <a href="mailto:mike@gluu.org">mike@gluu.org</a></p><p><b>Janusz Ulanowski,</b><br>HEAnet<br>EMail: <a href="mailto:janusz.ulanowski@heanet.ie">janusz.ulanowski@heanet.ie</a></p><p><b>Yuriy Zabrovarnyy</b><br>Gluu<br>EMail: <a href="mailto:yuriy@gluu.org">yuriy@gluu.org</a></p><p><b>Meghna Joshi</b><br>Gluu<br>EMail: <a href="mailto:meg@gluu.org">meg@gluu.org</a></p></div></body></html>
